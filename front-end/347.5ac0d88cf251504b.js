"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[347],{2347:(N,l,i)=>{i.r(l),i.d(l,{CuponesModule:()=>Y});var a=i(6814),d=i(2253),e=i(4946),u=i(9355),C=i(6306),m=i(2096),f=i(5065),v=i(9862);let r=(()=>{class t{constructor(n){this.http=n,this.URL=f.T.baseUrl}getCupones(n,o){return this.http.get(`${this.URL}/cupon/${o}/${n}`).pipe((0,C.K)(c=>(console.error("Error al obtener planes",c),(0,m.of)([]))))}verificarCupon(n){this.cuponValido="111"===n}static#e=this.\u0275fac=function(o){return new(o||t)(e.LFG(v.eN))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var g=i(4831),h=i(9227),x=i(2174),_=i(4567);function Z(t,p){1&t&&(e.TgZ(0,"div",8)(1,"div",9),e._uU(2," USADO "),e.qZA(),e._UZ(3,"div",10),e.qZA())}function y(t,p){1&t&&(e.TgZ(0,"div",8)(1,"div",9),e._uU(2," VENCIDO "),e.qZA(),e._UZ(3,"div",10),e.qZA())}function w(t,p){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h4"),e._uU(3,"Cup\xf3n"),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4)(7,"p"),e._uU(8,"Valido hasta:"),e.qZA(),e.TgZ(9,"p",5),e._uU(10),e.ALo(11,"date"),e.qZA()()(),e.TgZ(12,"div",6)(13,"h4"),e._uU(14,"Descuento de"),e.qZA(),e.TgZ(15,"h1",5),e._uU(16),e.qZA()(),e.YNc(17,Z,4,0,"div",7),e.YNc(18,y,4,0,"div",7),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngClass",n.empresa),e.xp6(5),e.hij(" ",n.cupon.cupon_descripcion," "),e.xp6(5),e.hij(" ",e.xi3(11,6,n.cupon.miscupones_fecha_limite,"dd/mm/yyyy")," "),e.xp6(6),e.hij("",n.cupon.cupon_monto_porcentaje,"%"),e.xp6(1),e.Q6J("ngIf",n.usado),e.xp6(1),e.Q6J("ngIf",n.vencido)}}let T=(()=>{class t{constructor(n){this.rutaEmpresa=n,this.estado="valido",this.usado=!1,this.vencido=!1}ngOnInit(){this.empresa=this.rutaEmpresa.getEmpresa(),"usado"===this.cupon.cupon_estado?(this.usado=!0,this.vencido=!1):"vencido"===this.cupon.cupon_estado?(this.usado=!1,this.vencido=!0):(this.usado=!1,this.vencido=!1)}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(u.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["cupones-card"]],inputs:{estado:"estado",cupon:"cupon"},decls:1,vars:1,consts:[["class","flex relative",3,"ngClass",4,"ngIf"],[1,"flex","relative",3,"ngClass"],[1,"bg-white","w-[50%]","flex","flex-col","gap-[10px]","p-[20px]","text-black","text-center"],[1,"px-[10px]","py-[5px]","bg-[#5261E7]","font-bold","self-center","text-white","inline-block","text-[24px]"],[1,"flex","justify-around","mt-[5px]"],[1,"font-bold"],[1,"bg-primary","w-[50%]","flex","flex-col","justify-center","p-[20px]","text-center"],["class","absolute top-0 left-0 right-0 bottom-0 grid place-content-center",4,"ngIf"],[1,"absolute","top-0","left-0","right-0","bottom-0","grid","place-content-center"],[1,"z-10","py-[5px]","px-[10px]","bg-red-600","p-1","inline","-rotate-[20deg]","text-[24px]","font-bold"],[1,"w-full","h-full","absolute","backdrop-blur-[3px]"]],template:function(o,s){1&o&&e.YNc(0,w,19,9,"div",0),2&o&&e.Q6J("ngIf",s.cupon)},dependencies:[a.mk,a.O5,a.uU]})}return t})();function A(t,p){1&t&&e._UZ(0,"cupones-card",2),2&t&&e.Q6J("cupon",p.$implicit)}let U=(()=>{class t{constructor(n,o,s){this.cuponesServices=n,this.ruta=o,this.authService=s,this.cupones=[],this.idEstudiante=0}ngOnInit(){this.empresa=this.ruta.getEmpresa(),this.cuponesServices.getCupones(this.empresa,this.idEstudiante).subscribe(n=>{this.cupones=n})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(r),e.Y36(u.e),e.Y36(_.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["cupones-list-cupon"]],decls:2,vars:1,consts:[[1,"grid-cupones"],[3,"cupon",4,"ngFor","ngForOf"],[3,"cupon"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e.YNc(1,A,1,1,"cupones-card",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngForOf",s.cupones))},dependencies:[a.sg,T],styles:[".grid-cupones[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px}"]})}return t})();function V(t,p){if(1&t&&(e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.mensajeVacio," ")}}let b=(()=>{class t{constructor(n,o){this.rutaEmpresa=n,this.cuponesService=o,this.showClaveCupon=new e.vpe,this.showCuponValido=new e.vpe,this.mensajeVacio=""}ngOnInit(){this.empresa=this.rutaEmpresa.getEmpresa()}closeClaveCupon(){this.showClaveCupon.emit(!1)}verificarCupon(n){""===n?this.mensajeVacio="*Usted necesita ingresar una clave.":(this.mensajeVacio="",this.cuponesService.verificarCupon(n),this.cuponesService.cuponValido?(this.closeClaveCupon(),this.showCuponValido.emit(this.cuponesService.cuponValido)):this.mensajeVacio="*Clave incorrecta")}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(u.e),e.Y36(r))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["cupones-clave-cupon"]],outputs:{showClaveCupon:"showClaveCupon",showCuponValido:"showCuponValido"},decls:14,vars:2,consts:[[1,"contain-cupon","grid","place-items-center","shadow-lg"],[1,"cupon","w-[40%]","lienzo2","min-w-[270px]","p-5","rounded-lg","flex","flex-col","gap-[10px]"],[1,"font-bold"],[1,"text-[16px]"],["class","txt-primary text-right text-sm",4,"ngIf"],["required","","type","text","name","","id",""],["cupon",""],[1,"flex","justify-end","gap-[10px]"],["typeButton","primary",3,"click"],["typeButton","secondary",3,"click"],[1,"txt-primary","text-right","text-sm"]],template:function(o,s){if(1&o){const c=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Introduce la clave del cup\xf3n"),e.qZA(),e.TgZ(4,"p",3),e._uU(5),e.qZA(),e.YNc(6,V,2,1,"div",4),e._UZ(7,"input",5,6),e.TgZ(9,"div",7)(10,"shared-botones",8),e.NdJ("click",function(){e.CHM(c);const M=e.MAs(8);return e.KtG(s.verificarCupon(M.value))}),e._uU(11," Confirmar "),e.qZA(),e.TgZ(12,"shared-botones",9),e.NdJ("click",function(){return s.closeClaveCupon()}),e._uU(13," Cancelar "),e.qZA()()()()}2&o&&(e.xp6(5),e.hij(" Al introducir la clave registraras el cup\xf3n en su cuenta de ",s.empresa," y se a\xf1adir\xe1 a sus cupones. "),e.xp6(1),e.Q6J("ngIf",s.mensajeVacio))},dependencies:[a.O5,h.x],styles:[".contain-cupon[_ngcontent-%COMP%]{background-color:#000c;position:fixed;inset:0;height:100%;transition:all ease-in .3s;z-index:20}.cupon[_ngcontent-%COMP%]{transform:scale(1);transition:all ease-in .3s}"]})}return t})(),E=(()=>{class t{constructor(n){this.rutaEmpresa=n}ngOnInit(){this.empresa=this.rutaEmpresa.getEmpresa()}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(u.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["cupones-cupon-valido"]],decls:10,vars:0,consts:[[1,"contain-cupon","grid","place-items-center","shadow-lg"],[1,"cupon","w-[40%]","lienzo2","min-w-[250px]","p-5","rounded-lg","flex","flex-col","items-center","justify-center","gap-[20px]"],[1,"circle","rounded-full","w-[80px]","h-[80px]","grid","place-content-center","border-2"],["xmlns","http://www.w3.org/2000/svg","width","52","height","40","viewBox","0 0 52 40","fill","none",1,"fill-primary"],["d","M43.3208 1.27528C44.1895 0.448265 45.3455 -0.00894241 46.5448 0.000132554C47.7442 0.00920752 48.8931 0.483856 49.7492 1.32392C50.6053 2.16399 51.1015 3.30376 51.1332 4.50274C51.1649 5.70172 50.7296 6.86613 49.9191 7.75026L25.3142 38.5218C24.8911 38.9775 24.3805 39.3432 23.8128 39.5971C23.2452 39.8509 22.6321 39.9877 22.0104 39.9992C21.3887 40.0107 20.771 39.8967 20.1944 39.6641C19.6177 39.4314 19.0939 39.0849 18.6542 38.6452L2.33726 22.3282C1.88286 21.9048 1.5184 21.3942 1.26562 20.8269C1.01284 20.2595 0.876911 19.6471 0.865954 19.0261C0.854997 18.4051 0.969234 17.7883 1.20185 17.2124C1.43446 16.6365 1.78068 16.1133 2.21986 15.6742C2.65904 15.235 3.18218 14.8888 3.75808 14.6561C4.33397 14.4235 4.95081 14.3093 5.57181 14.3203C6.19281 14.3312 6.80524 14.4671 7.37257 14.7199C7.9399 14.9727 8.45049 15.3372 8.87391 15.7916L21.7869 28.6984L43.2036 1.41095C43.2422 1.36347 43.2772 1.31818 43.3208 1.27528Z","fill","#6BBD5B"],[1,"text-[14px]"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA()(),e.kcU(),e.TgZ(5,"p",5),e._uU(6,"Cup\xf3n de "),e.TgZ(7,"b"),e._uU(8,"BIENVENIDA"),e.qZA(),e._uU(9," activado exitosamente"),e.qZA()()())},styles:[".contain-cupon[_ngcontent-%COMP%]{background-color:#000c;position:fixed;inset:0;height:100%;transition:all ease-in .3s;z-index:20}.cupon[_ngcontent-%COMP%]{transform:scale(1);transition:all ease-in .3s}.circle[_ngcontent-%COMP%]{border-color:var(--primary-color)}"]})}return t})();function F(t,p){if(1&t){const n=e.EpF();e.TgZ(0,"cupones-clave-cupon",6),e.NdJ("showCuponValido",function(s){e.CHM(n);const c=e.oxw();return e.KtG(c.cuponValido(s))})("showClaveCupon",function(s){e.CHM(n);const c=e.oxw();return e.KtG(c.closeClaveCupon(s))}),e.qZA()}}function I(t,p){1&t&&e._UZ(0,"cupones-cupon-valido")}const j=[{path:"",component:(()=>{class t{constructor(n,o){this.rutaEmpresa=n,this.cuponesService=o,this.showClaveCupon=!1,this.showCuponValido=!1}ngOnInit(){this.empresa=this.rutaEmpresa.getEmpresa()}toggleClaveCupon(){this.showClaveCupon=!this.showClaveCupon}closeClaveCupon(n){this.showClaveCupon=n}cuponValido(n){setTimeout(()=>{this.showCuponValido=n},300),setTimeout(()=>{this.showCuponValido=!1,this.cuponesService.cuponValido=!1},3e3)}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(u.e),e.Y36(r))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:13,vars:2,consts:[[1,"p-3"],[1,"flex","items-center","justify-end","gap-5","mb-5"],[1,"flex","justify-between","mb-5","items-center"],["typeButton","primary",3,"click"],[3,"showCuponValido","showClaveCupon",4,"ngIf"],[4,"ngIf"],[3,"showCuponValido","showClaveCupon"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"shared-carrito")(3,"shared-auth-button"),e.qZA(),e.TgZ(4,"div")(5,"div",2)(6,"h3"),e._uU(7,"Mis Cupones"),e.qZA(),e.TgZ(8,"shared-botones",3),e.NdJ("click",function(){return s.toggleClaveCupon()}),e._uU(9," Agregar Cup\xf3n "),e.qZA()(),e._UZ(10,"cupones-list-cupon"),e.qZA(),e.YNc(11,F,1,0,"cupones-clave-cupon",4),e.YNc(12,I,1,0,"cupones-cupon-valido",5),e.qZA()),2&o&&(e.xp6(11),e.Q6J("ngIf",s.showClaveCupon),e.xp6(1),e.Q6J("ngIf",s.showCuponValido))},dependencies:[a.O5,g.o,h.x,x.n,U,b,E]})}return t})()}];let L=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(j),d.Bz]})}return t})();var O=i(6208);let Y=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[a.ez,L,O.m]})}return t})()}}]);