"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[55],{8322:(Z,x,c)=>{c.r(x),c.d(x,{EvaluacionModule:()=>R});var h=c(6814),d=c(2253),t=c(4946),y=c(9355),_=c(2856),E=c(1389);const g=function(e,l,n,i){return["/",e,"evaluacion",l,n,i]};function A(e,l){if(1&e&&(t.O4$(),t.kcU(),t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&e){const n=l.$implicit,i=t.oxw();t.Q6J("routerLink",t.l5B(2,g,i.empresa,i.idEvaluacion,i.idIntento,n)),t.xp6(1),t.hij(" ",n," ")}}const C=function(e){return{"opacity-30 pointer-events-none":e}};let w=(()=>{class e{constructor(n,i,a){this.activatedRoute=n,this.router=i,this.rutaEmpresaService=a,this.cantidadPreguntas=0,this.idEvaluacion=0,this.idIntento=0,this.preguntaActual=0,this.arrayCantidad=[]}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa(),this.toArray(),this.activatedRoute.params.subscribe(({indexPregunta:n})=>this.preguntaActual=n)}toArray(){this.arrayCantidad=Array.from({length:this.cantidadPreguntas},(n,i)=>i+1)}preguntaAnterior(){1!=+this.preguntaActual&&this.router.navigate(["/",this.empresa,"evaluacion",this.idEvaluacion,this.idIntento,this.preguntaActual-1])}preguntaSiguiente(){+this.preguntaActual!=+this.cantidadPreguntas&&this.router.navigate(["/",this.empresa,"evaluacion",this.idEvaluacion,this.idIntento,+this.preguntaActual+1])}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(d.gz),t.Y36(d.F0),t.Y36(y.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["evaluacion-paginacion"]],inputs:{cantidadPreguntas:"cantidadPreguntas",idEvaluacion:"idEvaluacion",idIntento:"idIntento"},decls:10,vars:7,consts:[[1,"flex","justify-center","gap-[10px]","lienzo2","p-[10px]"],[1,"bg-white","rounded-[4px]","flex","justify-center","items-center","px-[10px]","cursor-pointer","hover:bg-sky-300","transition-colors",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","8","height","8","viewBox","0 0 8 8","fill","none"],["d","M0.373646 4.61922L6.23198 7.90054C6.72915 8.17872 7.36719 7.84188 7.36719 7.28107V0.718431C7.36719 0.158509 6.73007 -0.179221 6.23198 0.0998508L0.373646 3.38117C0.260552 3.44349 0.166543 3.53358 0.101155 3.64229C0.0357674 3.75101 0.00132673 3.87448 0.00132673 4.00019C0.00132673 4.1259 0.0357674 4.24938 0.101155 4.35809C0.166543 4.46681 0.260552 4.55689 0.373646 4.61922Z","fill","black"],["d","M7.36073 4.61922L1.50239 7.90054C1.00522 8.17872 0.367188 7.84188 0.367188 7.28107V0.718431C0.367188 0.158509 1.0043 -0.179221 1.50239 0.0998508L7.36073 3.38117C7.47382 3.44349 7.56783 3.53358 7.63322 3.64229C7.69861 3.75101 7.73305 3.87448 7.73305 4.00019C7.73305 4.1259 7.69861 4.24938 7.63322 4.35809C7.56783 4.46681 7.47382 4.55689 7.36073 4.61922Z","fill","black"],["routerLinkActive","active","class","flex-1 py-1 flex justify-center items-center cursor-pointer rounded-[4px] text-black bg-white hover:bg-[var(--primary-color)] hover:text-white transition-all",3,"routerLink",4,"ngFor","ngForOf"],[1,"bg-primary","flex","justify-center","items-center","px-3","rounded-lg","cursor-pointer"],["routerLinkActive","active",1,"flex-1","py-1","flex","justify-center","items-center","cursor-pointer","rounded-[4px]","text-black","bg-white","hover:bg-[var(--primary-color)]","hover:text-white","transition-all",3,"routerLink"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return a.preguntaAnterior()}),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA()(),t.kcU(),t.TgZ(4,"div",1),t.NdJ("click",function(){return a.preguntaSiguiente()}),t.O4$(),t.TgZ(5,"svg",2),t._UZ(6,"path",4),t.qZA()(),t.YNc(7,A,2,7,"div",5),t.kcU(),t.TgZ(8,"div",6),t._uU(9," Enviar "),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("ngClass",t.VKq(3,C,1==+a.preguntaActual)),t.xp6(3),t.Q6J("ngClass",t.VKq(5,C,+a.preguntaActual==+a.cantidadPreguntas)),t.xp6(3),t.Q6J("ngForOf",a.arrayCantidad))},dependencies:[h.mk,h.sg,d.rH,d.Od],styles:[".active[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}"]})}return e})(),p=(()=>{class e{constructor(n){this.activatedRoute=n,this.numero=0}ngOnInit(){this.activatedRoute.params.subscribe(({indexPregunta:n})=>this.numero=n)}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(d.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["evaluacion-pregunta"]],inputs:{pregunta:"pregunta"},decls:3,vars:2,consts:[[1,"bg-[#383838]","w-full","h-[3px]","mt-[10px]"]],template:function(i,a){1&i&&(t.TgZ(0,"h5"),t._uU(1),t.qZA(),t._UZ(2,"div",0)),2&i&&(t.xp6(1),t.AsE("",a.numero,". ",a.pregunta,""))}})}return e})(),o=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["evaluacion-imagen"]],inputs:{imagen:"imagen"},decls:2,vars:0,template:function(i,a){1&i&&(t.TgZ(0,"p"),t._uU(1,"imagen-evaluacion works!"),t.qZA())}})}return e})();var s=c(4567);function r(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"label",2)(2,"input",3,4),t.NdJ("change",function(){t.CHM(n);const a=t.MAs(3),u=t.oxw();return t.KtG(u.cambiarAlternativa(a.value))}),t.qZA(),t.TgZ(4,"h5"),t._uU(5),t.qZA()()()}if(2&e){const n=l.$implicit;t.xp6(2),t.Q6J("value",n.alternativa_id),t.xp6(3),t.hij(" ",n.alternativa_descripcion," ")}}let m=(()=>{class e{constructor(n,i){this.evaluacionService=n,this.authService=i,this.alternativas=[],this.idEvaluacion=0,this.idIntento=0,this.idPregunta=0,this.idUsuario=0}ngOnInit(){this.idUsuario=this.authService.getStoredUser()}cambiarAlternativa(n){return this.evaluacionService.postRespuesta({id_alternativa:+n,id_entrega_evaluacion:+this.idIntento,id_evaluacion:+this.idEvaluacion,id_estudiante:this.idUsuario,id_pregunta:+this.idPregunta}).subscribe(a=>console.log(a))}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(_.c),t.Y36(s.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["evaluacion-alternativas"]],inputs:{alternativas:"alternativas",idEvaluacion:"idEvaluacion",idIntento:"idIntento",idPregunta:"idPregunta"},decls:2,vars:1,consts:[[1,"flex","flex-col","gap-5","pl-5"],[4,"ngFor","ngForOf"],[1,"flex","gap-[10px]"],["name","alternativa","type","radio",1,"alternativa",3,"value","change"],["respuesta",""]],template:function(i,a){1&i&&(t.TgZ(0,"div",0),t.YNc(1,r,6,2,"div",1),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngForOf",a.alternativas))},dependencies:[h.sg],styles:[".alternativa[_ngcontent-%COMP%]:checked{background-color:var(--primary-color)}"]})}return e})();function f(e,l){if(1&e&&t._UZ(0,"evaluacion-imagen",4),2&e){const n=t.oxw();t.Q6J("imagen",n.pregunta.pregunta_imagen)}}let I=(()=>{class e{constructor(){this.idEvaluacion=0,this.idIntento=0}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["evaluacion-card"]],inputs:{pregunta:"pregunta",idEvaluacion:"idEvaluacion",idIntento:"idIntento"},decls:5,vars:6,consts:[[1,"flex","flex-col","gap-5","max-w-[800px]"],[3,"pregunta"],[3,"imagen",4,"ngIf"],[3,"alternativas","idEvaluacion","idIntento","idPregunta"],[3,"imagen"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div"),t._UZ(2,"evaluacion-pregunta",1),t.YNc(3,f,1,1,"evaluacion-imagen",2),t.qZA(),t._UZ(4,"evaluacion-alternativas",3),t.qZA()),2&i&&(t.xp6(2),t.Q6J("pregunta",a.pregunta.pregunta_descripcion),t.xp6(1),t.Q6J("ngIf",a.pregunta.pregunta_imagen),t.xp6(1),t.Q6J("alternativas",a.pregunta.alternativas)("idEvaluacion",a.idEvaluacion)("idIntento",a.idIntento)("idPregunta",a.pregunta.pregunta_id))},dependencies:[h.O5,p,o,m]})}return e})();var T=c(5592),P=c(4352),b=c(671);let S=(()=>{class e{constructor(){this.cantidadPreguntas=0,this.preguntaActual=0,this.horaFin="",this.nombre_modulo="",this.tiempoRestante=""}ngOnInit(){this.iniciarTemporizador()}ngOnDestroy(){this.temporizadorSubscripcion.unsubscribe()}iniciarTemporizador(){this.temporizadorSubscripcion=function F(e=0,l,n=P.P){let i=-1;return null!=l&&((0,b.K)(l)?n=l:i=l),new T.y(a=>{let u=function U(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;u<0&&(u=0);let v=0;return n.schedule(function(){a.closed||(a.next(v++),0<=i?this.schedule(void 0,i):a.complete())},u)})}(0,1e3).subscribe(()=>{this.actualizarTiempoRestante()})}actualizarTiempoRestante(){const n=new Date,i=new Date,a=this.horaFin.split(":");i.setHours(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]));const u=i.getTime()-n.getTime();if(u>0){const v=Math.floor(u/36e5%24),z=Math.floor(u/6e4%60),j=Math.floor(u/1e3%60);this.tiempoRestante=`${v.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`,"00:00:00"==this.tiempoRestante&&console.log(1)}else this.tiempoRestante="00:00:00"}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["evaluacion-info"]],inputs:{cantidadPreguntas:"cantidadPreguntas",preguntaActual:"preguntaActual",horaFin:"horaFin",nombre_modulo:"nombre_modulo"},decls:16,vars:4,consts:[[1,"lienzo2","shadow-lg"],[1,"p-5","flex","justify-between","items-center"],[1,""],[1,"flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","width","10","height","11","viewBox","0 0 10 11","fill","none"],["d","M10 5.5C10 6.82608 9.47322 8.09785 8.53553 9.03553C7.59785 9.97322 6.32608 10.5 5 10.5C3.67392 10.5 2.40215 9.97322 1.46447 9.03553C0.526784 8.09785 0 6.82608 0 5.5C0 4.17392 0.526784 2.90215 1.46447 1.96447C2.40215 1.02678 3.67392 0.5 5 0.5C6.32608 0.5 7.59785 1.02678 8.53553 1.96447C9.47322 2.90215 10 4.17392 10 5.5ZM5 2.6875C5 2.60462 4.96708 2.52513 4.90847 2.46653C4.84987 2.40792 4.77038 2.375 4.6875 2.375C4.60462 2.375 4.52513 2.40792 4.46653 2.46653C4.40792 2.52513 4.375 2.60462 4.375 2.6875V6.125C4.37502 6.18008 4.38959 6.23418 4.41725 6.28182C4.44491 6.32945 4.48467 6.36893 4.5325 6.39625L6.72 7.64625C6.79179 7.68505 6.8759 7.69423 6.95437 7.67183C7.03283 7.64943 7.09942 7.59722 7.13991 7.52637C7.18039 7.45553 7.19156 7.37165 7.17102 7.29268C7.15048 7.21371 7.09987 7.1459 7.03 7.10375L5 5.94375V2.6875Z","fill","white"],[1,"text-[14px]","w-16"],["xmlns","http://www.w3.org/2000/svg","width","10","height","15","viewBox","0 0 10 15","fill","none"],["d","M6.0775 0.833374H1.66667C1.22464 0.833374 0.800716 1.00897 0.488155 1.32153C0.175595 1.63409 0 2.05801 0 2.50004V12.5C0 12.9421 0.175595 13.366 0.488155 13.6786C0.800716 13.9911 1.22464 14.1667 1.66667 14.1667H8.33333C8.77536 14.1667 9.19928 13.9911 9.51184 13.6786C9.8244 13.366 10 12.9421 10 12.5V4.75587C9.99995 4.53488 9.91212 4.32295 9.75583 4.16671L6.66667 1.07754C6.51042 0.92125 6.2985 0.833421 6.0775 0.833374ZM6.25 3.75004V2.08337L8.75 4.58337H7.08333C6.86232 4.58337 6.65036 4.49558 6.49408 4.3393C6.3378 4.18302 6.25 3.97105 6.25 3.75004ZM7.37833 7.37837L4.87833 9.87837C4.83963 9.91718 4.79365 9.94796 4.74303 9.96897C4.69241 9.98997 4.63814 10.0008 4.58333 10.0008C4.52853 10.0008 4.47426 9.98997 4.42364 9.96897C4.37302 9.94796 4.32704 9.91718 4.28833 9.87837L3.03833 8.62837C2.99959 8.58963 2.96886 8.54364 2.9479 8.49303C2.92693 8.44241 2.91614 8.38816 2.91614 8.33337C2.91614 8.27859 2.92693 8.22434 2.9479 8.17372C2.96886 8.1231 2.99959 8.07711 3.03833 8.03837C3.11657 7.96013 3.22269 7.91618 3.33333 7.91618C3.38812 7.91618 3.44237 7.92697 3.49299 7.94794C3.5436 7.9689 3.58959 7.99963 3.62833 8.03837L4.58333 8.99421L6.78833 6.78837C6.86657 6.71013 6.97269 6.66618 7.08333 6.66618C7.19398 6.66618 7.30009 6.71013 7.37833 6.78837C7.45657 6.86661 7.50053 6.97273 7.50053 7.08337C7.50053 7.19402 7.45657 7.30014 7.37833 7.37837Z","fill","white"],[1,"text-[14px]"],[1,"bg-primary","w-full","h-[5px]"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"div",3),t.O4$(),t.TgZ(6,"svg",4),t._UZ(7,"path",5),t.qZA(),t.kcU(),t.TgZ(8,"p",6),t._uU(9),t.qZA()(),t.TgZ(10,"div",3),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",8),t.qZA(),t.kcU(),t.TgZ(13,"p",9),t._uU(14),t.qZA()()()(),t._UZ(15,"div",10),t.qZA()),2&i&&(t.xp6(3),t.hij("Evaluaci\xf3n ",a.nombre_modulo,""),t.xp6(6),t.Oqu(a.tiempoRestante),t.xp6(5),t.AsE(" ",a.preguntaActual," de ",a.cantidadPreguntas," "))}})}return e})();function L(e,l){if(1&e&&t._UZ(0,"evaluacion-card",6),2&e){const n=t.oxw(2);t.Q6J("pregunta",n.evaluacion.pregunta[n.indexPregunta])("idEvaluacion",n.idEvaluacion)("idIntento",n.evaluacion.entrega_evaluacion_id)}}function J(e,l){if(1&e&&t._UZ(0,"evaluacion-paginacion",7),2&e){const n=t.oxw(2);t.Q6J("cantidadPreguntas",n.evaluacion.pregunta.length)("idEvaluacion",n.idEvaluacion)("idIntento",n.evaluacion.entrega_evaluacion_id)}}function k(e,l){if(1&e&&(t.ynx(0),t._UZ(1,"evaluacion-info",2),t.TgZ(2,"div",3),t.YNc(3,L,1,3,"evaluacion-card",4),t.qZA(),t.YNc(4,J,1,3,"evaluacion-paginacion",5),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("cantidadPreguntas",n.evaluacion.pregunta.length)("preguntaActual",n.indexPregunta+1)("horaFin",n.evaluacion.envio_hora_fin)("nombre_modulo",n.evaluacion.nombre_modulo),t.xp6(2),t.Q6J("ngIf",n.evaluacion.pregunta.length>0),t.xp6(1),t.Q6J("ngIf",n.evaluacion.pregunta.length>0)}}const O=[{path:":idEvaluacion/:idIntento/:indexPregunta",component:(()=>{class e{constructor(n,i,a,u,v){this.activatedRoute=n,this.router=i,this.rutaEmpresaService=a,this.evaluacionService=u,this.themeService=v,this.indexPregunta=0,this.idEvaluacion=0}ngOnInit(){this.activatedRoute.params.subscribe(({empresa:n,idEvaluacion:i,idIntento:a,indexPregunta:u})=>{this.themeService.applyTheme(n),this.rutaEmpresaService.setEmpresa(n),this.idEvaluacion=i,this.indexPregunta=u-1,this.evaluacionService.getEvaluacion(n,i,1,a).subscribe(v=>{v&&(this.evaluacion=v)})})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(d.gz),t.Y36(d.F0),t.Y36(y.e),t.Y36(_.c),t.Y36(E.f))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["evaluacion-layout"]],decls:2,vars:1,consts:[[1,"h-screen","flex","flex-col"],[4,"ngIf"],[3,"cantidadPreguntas","preguntaActual","horaFin","nombre_modulo"],[1,"flex-grow","overflow-y-auto","p-5"],["class","max-w-[800px]",3,"pregunta","idEvaluacion","idIntento",4,"ngIf"],[3,"cantidadPreguntas","idEvaluacion","idIntento",4,"ngIf"],[1,"max-w-[800px]",3,"pregunta","idEvaluacion","idIntento"],[3,"cantidadPreguntas","idEvaluacion","idIntento"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0),t.YNc(1,k,5,6,"ng-container",1),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",a.evaluacion))},dependencies:[h.O5,w,I,S],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}"]})}return e})()}];let M=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(O),d.Bz]})}return e})();var Q=c(95),Y=c(6208);let R=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[h.ez,M,Q.UX,Y.m]})}return e})()},4352:(Z,x,c)=>{c.d(x,{P:()=>w,z:()=>C});var h=c(7394);class d extends h.w0{constructor(o,s){super()}schedule(o,s=0){return this}}const t={setInterval(p,o,...s){const{delegate:r}=t;return r?.setInterval?r.setInterval(p,o,...s):setInterval(p,o,...s)},clearInterval(p){const{delegate:o}=t;return(o?.clearInterval||clearInterval)(p)},delegate:void 0};var y=c(9039);const E={now:()=>(E.delegate||Date).now(),delegate:void 0};class g{constructor(o,s=g.now){this.schedulerActionCtor=o,this.now=s}schedule(o,s=0,r){return new this.schedulerActionCtor(this,o).schedule(r,s)}}g.now=E.now;const C=new class A extends g{constructor(o,s=g.now){super(o,s),this.actions=[],this._active=!1}flush(o){const{actions:s}=this;if(this._active)return void s.push(o);let r;this._active=!0;do{if(r=o.execute(o.state,o.delay))break}while(o=s.shift());if(this._active=!1,r){for(;o=s.shift();)o.unsubscribe();throw r}}}(class _ extends d{constructor(o,s){super(o,s),this.scheduler=o,this.work=s,this.pending=!1}schedule(o,s=0){var r;if(this.closed)return this;this.state=o;const m=this.id,f=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(f,m,s)),this.pending=!0,this.delay=s,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(f,this.id,s),this}requestAsyncId(o,s,r=0){return t.setInterval(o.flush.bind(o,this),r)}recycleAsyncId(o,s,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return s;null!=s&&t.clearInterval(s)}execute(o,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(o,s);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,s){let m,r=!1;try{this.work(o)}catch(f){r=!0,m=f||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),m}unsubscribe(){if(!this.closed){const{id:o,scheduler:s}=this,{actions:r}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y.P)(r,this),null!=o&&(this.id=this.recycleAsyncId(s,o,null)),this.delay=null,super.unsubscribe()}}}),w=C}}]);