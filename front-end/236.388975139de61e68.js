"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[236],{7236:(q,m,c)=>{c.r(m),c.d(m,{CertificadosModule:()=>S});var r=c(6814),h=c(2253),t=c(4946),C=c(4831),g=c(2174),v=c(9649),f=c(9355),x=c(6306),_=c(2096),Z=c(5065),y=c(9862);let T=(()=>{class i{constructor(e){this.http=e,this.URL=Z.T.baseUrl}buscarCertificadoId(e,a){return this.http.get(`${this.URL}/certificado/validar/${e}/${a}`).pipe((0,x.K)(n=>(console.error("Error al buscar certificado",n),(0,_.of)(void 0))))}static#t=this.\u0275fac=function(a){return new(a||i)(t.LFG(y.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var u=c(9227),l=c(6223);let b=(()=>{class i{constructor(e,a){this.rutaEmpresaService=e,this.certificadosService=a,this.resultadoCertificado=new t.vpe}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa()}buscarCertificado(){this.certificadosService.buscarCertificadoId(this.idBusqueda,this.empresa).subscribe(e=>{e&&this.resultadoCertificado.emit(e)})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(f.e),t.Y36(T))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["certificados-input-certificado"]],outputs:{resultadoCertificado:"resultadoCertificado"},decls:12,vars:3,consts:[[1,"ingreso-datos","flex","justify-center","flex-col","gap-[30px]","text-center",3,"ngClass"],[1,"flex","flex-col","gap-[20px]"],[1,"text-3xl","font-bold","txt-primary"],[1,"w-full"],["type","text","placeholder","Codigo de certificado",1,"p-2","w-full","text-white","mt-3","mb-3","pl-4","ml-2","mr-2",3,"ngClass","ngModel","ngModelChange"],["typeButton","primary",1,"ml-2","mr-2",3,"click"],[1,"mt-3"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Busqueda y validaci\xf3n de certificado "),t.qZA(),t.TgZ(4,"p"),t._uU(5," Para realizar alguna verificaci\xf3n o descargar su certificado Ingresar c\xf3digo del certificado "),t.qZA()(),t.TgZ(6,"div",3)(7,"input",4),t.NdJ("ngModelChange",function(s){return o.idBusqueda=s}),t.qZA(),t.TgZ(8,"shared-botones",5),t.NdJ("click",function(){return o.buscarCertificado()}),t._uU(9," Buscar "),t.qZA()(),t.TgZ(10,"p",6),t._uU(11," Valida si has estudiado con nosotros (desde enero del a\xf1o 2022) "),t.qZA()()),2&a&&(t.Q6J("ngClass",o.empresa),t.xp6(7),t.Q6J("ngClass",o.empresa)("ngModel",o.idBusqueda))},dependencies:[r.mk,u.x,l.Fj,l.JJ,l.On]})}return i})(),w=(()=>{class i{constructor(e){this.rutaEmpresaService=e}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa()}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(f.e))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["certificados-imagen-empresa-certificado"]],decls:2,vars:2,consts:[[1,"lienzo3","w-[150px]","h-[150px]"],[1,"w-full","h-full","object-cover",3,"src","alt"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.qZA()),2&a&&(t.xp6(1),t.Q6J("src","assets/"+o.empresa.split(" ")[0]+".png",t.LSH)("alt","logo-"+o.empresa))}})}return i})();const E=["canvasRef"],A=["*"];let M=(()=>{class i{constructor(e){this.rutaEmpresaService=e,this.closeDetailEvent=new t.vpe,this.title="certificado"}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa(),this.adjustCanvasSize(),window.addEventListener("resize",this.adjustCanvasSize.bind(this))}closeDetail(){this.closeDetailEvent.emit()}ngAfterViewInit(){this.canvas=this.canvasRef.nativeElement,this.canvasConfig()}adjustCanvasSize(){const e=this.canvasRef.nativeElement.parentElement;e&&(this.canvas.width=e.clientWidth,this.canvas.height=e.clientHeight)}canvasConfig(){const e=this.canvas.getContext("2d");if(e){const a=new Image;a.src="assets/img/certificado.jpg",a.onload=()=>{let o=a.naturalWidth,n=a.naturalHeight;const s=Math.min(this.canvas.width/o,this.canvas.height/n);s<1&&(o*=s,n*=s),e.drawImage(a,(this.canvas.width-o)/2,(this.canvas.height-n)/2,o,n);const d=this.canvas.width/20;e.font=`bold ${d}px Montserrat`,e.textAlign="center",e.fillStyle="black",e.fillText(this.certificado.curso_nombre,this.canvas.width/2,this.canvas.height/2),e.font=`${d}px Montserrat`,e.fillText(this.certificado.nombre_estudiantes,this.canvas.width/2,this.canvas.height/2-d),e.fillText(this.certificado.certificado_horas+" horas",this.canvas.width/2,this.canvas.height/2+d)}}}download(){const e=document.createElement("a");e.href=this.canvas.toDataURL(),e.download="certificado.png",e.click()}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(f.e))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-certificado-detalle"]],viewQuery:function(a,o){if(1&a&&t.Gf(E,5),2&a){let n;t.iGM(n=t.CRH())&&(o.canvasRef=n.first)}},inputs:{certificado:"certificado"},outputs:{closeDetailEvent:"closeDetailEvent"},ngContentSelectors:A,decls:11,vars:1,consts:[[1,"absolute","w-full","h-full","left-0","top-0","flex","items-center","justify-center","bg-[#000000cc]","backdrop-blur-sm"],[1,"lienzo2","w-full","h-full","flex","flex-col","items-center","justify-center","p-5","rounded-lg","gap-5","relative",3,"ngClass"],[1,"absolute","top-0","right-0","m-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 10 10","fill","none"],["d","M0.688822 0.209802C0.748525 0.143298 0.819449 0.0905335 0.897533 0.0545322C0.975617 0.0185308 1.05933 0 1.14387 0C1.22841 0 1.31211 0.0185308 1.3902 0.0545322C1.46828 0.0905335 1.53921 0.143298 1.59891 0.209802L5.00017 3.99041L8.40143 0.209802C8.46118 0.143405 8.53213 0.0907363 8.6102 0.0548025C8.68828 0.0188688 8.77196 0.000373895 8.85647 0.000373895C8.94098 0.000373895 9.02466 0.0188688 9.10274 0.0548025C9.18082 0.0907363 9.25176 0.143405 9.31152 0.209802C9.37127 0.276199 9.41867 0.355023 9.45101 0.441775C9.48336 0.528527 9.5 0.621507 9.5 0.715406C9.5 0.809306 9.48336 0.902286 9.45101 0.989038C9.41867 1.07579 9.37127 1.15461 9.31152 1.22101L5.90897 5.00019L9.31152 8.77936C9.37127 8.84576 9.41867 8.92459 9.45101 9.01134C9.48336 9.09809 9.5 9.19107 9.5 9.28497C9.5 9.37887 9.48336 9.47185 9.45101 9.5586C9.41867 9.64535 9.37127 9.72418 9.31152 9.79057C9.25176 9.85697 9.18082 9.90964 9.10274 9.94557C9.02466 9.98151 8.94098 10 8.85647 10C8.77196 10 8.68828 9.98151 8.6102 9.94557C8.53213 9.90964 8.46118 9.85697 8.40143 9.79057L5.00017 6.00997L1.59891 9.79057C1.53915 9.85697 1.46821 9.90964 1.39013 9.94557C1.31206 9.98151 1.22838 10 1.14387 10C1.05936 10 0.975674 9.98151 0.897598 9.94557C0.819521 9.90964 0.748579 9.85697 0.688822 9.79057C0.629065 9.72418 0.581663 9.64535 0.549322 9.5586C0.516982 9.47185 0.500337 9.37887 0.500337 9.28497C0.500337 9.19107 0.516982 9.09809 0.549322 9.01134C0.581663 8.92459 0.629065 8.84576 0.688822 8.77936L4.09137 5.00019L0.688822 1.22101C0.628968 1.15467 0.58148 1.07587 0.549079 0.989109C0.516678 0.902349 0.5 0.809339 0.5 0.715406C0.5 0.621474 0.516678 0.528464 0.549079 0.441704C0.58148 0.354944 0.628968 0.276139 0.688822 0.209802Z","fill","#6BBD5B"],[1,"mt-5"],["width","1280","height","720"],["canvasRef",""],["typeButton","primary",3,"click"]],template:function(a,o){1&a&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.closeDetail()}),t.O4$(),t.TgZ(3,"svg",3),t._UZ(4,"path",4),t.qZA()(),t.Hsn(5),t.kcU(),t.TgZ(6,"div",5),t._UZ(7,"canvas",6,7),t.qZA(),t.TgZ(9,"shared-botones",8),t.NdJ("click",function(){return o.download()}),t._uU(10," Descargar certificado "),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("ngClass",o.empresa))},dependencies:[r.mk,u.x],styles:[".Ecoambiental[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{border-color:var(--eco)}.Ecoambiental[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--eco)}.Ghamec[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{border-color:var(--ghamec)}.Ghamec[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--ghamec)}.Acm[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{border-color:var(--acm)}.Acm[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--acm)}"]})}return i})();function U(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"app-certificado-detalle",15),t.NdJ("closeDetailEvent",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.mostrarDetalle=!1)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("certificado",e.resultadoCertificado)}}function I(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.TgZ(3,"p"),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"label",6),t._uU(8),t.qZA(),t.TgZ(9,"p",7),t._uU(10),t.qZA()(),t.TgZ(11,"div",8)(12,"label",6),t._uU(13,"Horas"),t.qZA(),t.TgZ(14,"p",9),t._uU(15),t.qZA()(),t.TgZ(16,"div",8)(17,"label",10),t._uU(18,"Tipo certificado"),t.qZA(),t.TgZ(19,"p",9),t._uU(20),t.qZA()(),t.TgZ(21,"div",11)(22,"label",6),t._uU(23,"Acci\xf3n"),t.qZA(),t.TgZ(24,"div",12)(25,"shared-botones",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openCerts())}),t._uU(26," Ver certificado "),t.qZA()()()(),t.YNc(27,U,1,1,"app-certificado-detalle",14),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.MGl("alt","Certificado de ",e.resultadoCertificado.nombre_estudiantes,""),t.Q6J("src",e.resultadoCertificado.estudiante_imagen,t.LSH),t.xp6(2),t.Oqu(e.resultadoCertificado.nombre_estudiantes),t.xp6(4),t.Oqu(e.resultadoCertificado.servicio_nombre),t.xp6(2),t.hij(" ",e.resultadoCertificado.curso_nombre," "),t.xp6(5),t.hij(" ",e.resultadoCertificado.certificado_horas," "),t.xp6(5),t.hij(" ",e.resultadoCertificado.tipocert_nombre," "),t.xp6(7),t.Q6J("ngIf",e.mostrarDetalle)}}let O=(()=>{class i{constructor(){this.mostrarDetalle=!1}openCerts(){this.mostrarDetalle=!0}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["certificados-resultado-certificado"]],inputs:{resultadoCertificado:"resultadoCertificado"},decls:1,vars:1,consts:[["class","mt-5",4,"ngIf"],[1,"mt-5"],[1,"certificado-user","py-[5px]","flex","gap-3","border-white","align-middle","items-center"],[1,"w-10","h-10","rounded-full","object-cover",3,"src","alt"],[1,"flex","w-full","md:flex-row","sm:flex-col","lg:flex-row","gap-[1px]","bg-[#202020]","min-[320px]:flex-col","mt-4"],[1,"text-left","flex-1","flex","flex-col","min-w-[134px]"],[1,"lienzo2","block","p-3"],[1,"p-3","flex-1","flex","items-center","justify-center","md:justify-start"],[1,"text-left","flex","flex-col"],[1,"p-3","text-center","flex-1","flex","items-center","justify-center"],[1,"lienzo2","block","p-3","min-w-[148px]"],[1,"text-left","min-w-[155px]"],[1,"p-3"],["typeButton","primary",1,"min-w-[131px]",3,"click"],[3,"certificado","closeDetailEvent",4,"ngIf"],[3,"certificado","closeDetailEvent"]],template:function(a,o){1&a&&t.YNc(0,I,28,8,"div",0),2&a&&t.Q6J("ngIf",o.resultadoCertificado)},dependencies:[r.O5,u.x,M],styles:[".certificado-user[_ngcontent-%COMP%]{border-bottom:.5px solid rgba(255,255,255,.3)}"]})}return i})();function D(i,p){if(1&i&&t._UZ(0,"certificados-resultado-certificado",6),2&i){const e=t.oxw();t.Q6J("resultadoCertificado",e.resultadoCertificado)}}function J(i,p){1&i&&t._UZ(0,"shared-sin-resultados")}const L=[{path:"",component:(()=>{class i{saveCertificado(e){this.resultadoCertificado=e}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["certificados-layout-page"]],decls:10,vars:2,consts:[[1,"p-3"],[1,"flex","items-center","justify-end","gap-5","mb-5"],[1,"bg-[#282828]","w-full","mt-5","gap-[30px]","py-[50px]","rounded-3xl","flex","flex-col","items-center","justify-center"],[1,"w-[70%]",3,"resultadoCertificado"],[3,"resultadoCertificado",4,"ngIf","ngIfElse"],["noCert",""],[3,"resultadoCertificado"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"shared-carrito")(3,"shared-auth-button"),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"certificados-imagen-empresa-certificado"),t.TgZ(6,"certificados-input-certificado",3),t.NdJ("resultadoCertificado",function(s){return o.saveCertificado(s)}),t.qZA()(),t.YNc(7,D,1,1,"certificados-resultado-certificado",4),t.YNc(8,J,1,0,"ng-template",null,5,t.W1O),t.qZA()),2&a){const n=t.MAs(9);t.xp6(7),t.Q6J("ngIf",!(null!=o.resultadoCertificado&&o.resultadoCertificado.message))("ngIfElse",n)}},dependencies:[r.O5,C.o,g.n,v.Y,b,w,O]})}return i})()}];let j=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(L),h.Bz]})}return i})();var F=c(6208);let S=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[r.ez,j,F.m,l.u5]})}return i})()}}]);