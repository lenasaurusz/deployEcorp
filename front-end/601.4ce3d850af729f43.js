"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[601],{601:(xe,d,r)=>{r.r(d),r.d(d,{PerfilModule:()=>Ce});var p=r(6814),l=r(2895),m=r(7394),e=r(4946),u=r(8615),Z=r(4831),C=r(2174),x=r(9185);function T(t,n){if(1&t&&(e.ynx(0),e._UZ(1,"img",2),e.TgZ(2,"div",3)(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e.O4$(),e.TgZ(6,"svg",5)(7,"mask",6),e._UZ(8,"path",7),e.qZA(),e.TgZ(9,"g",8),e._UZ(10,"path",9),e.qZA()(),e.kcU(),e.TgZ(11,"p"),e._uU(12),e.qZA()(),e.TgZ(13,"div",4),e.O4$(),e.TgZ(14,"svg",10)(15,"g",11),e._UZ(16,"path",12)(17,"path",13)(18,"path",14)(19,"path",15),e.qZA()(),e.kcU(),e.TgZ(20,"p"),e._uU(21),e.qZA()()(),e.BQk()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("src",a.user.usuario_imagen||"assets/user.png",e.LSH),e.xp6(3),e.Oqu(a.user.usuario_nombre),e.xp6(8),e.Oqu(a.user.usuario_telefono),e.xp6(9),e.Oqu(a.user.usuario_correo)}}function A(t,n){1&t&&e._UZ(0,"shared-loader")}let q=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["header-perfil"]],inputs:{user:"user"},decls:3,vars:2,consts:[[1,"p-5","flex","flex-col","gap-5","items-center"],[4,"ngIf"],["alt","",1,"w-[200px]","h-[200px]","object-cover","rounded-full",3,"src"],[1,"flex","flex-col","gap-5","font-bold"],[1,"flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","width","17","height","18","viewBox","0 0 17 18","fill","none"],["id","mask0_502_8662","maskUnits","userSpaceOnUse","x","0","y","0","width","18","height","18",2,"mask-type","alpha"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.0034 1.04208C2.18932 0.856442 2.41257 0.712434 2.65836 0.619601C2.90414 0.526768 3.16685 0.487229 3.42907 0.503605C3.69129 0.519982 3.94703 0.591899 4.17936 0.714591C4.41168 0.837283 4.61528 1.00795 4.77666 1.21528L6.68393 3.66551C7.03351 4.11497 7.15677 4.70044 7.01864 5.25296L6.43742 7.57994C6.40737 7.70047 6.40899 7.82671 6.44213 7.94643C6.47527 8.06614 6.5388 8.17525 6.62655 8.26316L9.23724 10.8738C9.32526 10.9618 9.43454 11.0254 9.55446 11.0586C9.67438 11.0917 9.80084 11.0932 9.92152 11.063L12.2474 10.4818C12.5201 10.4136 12.8047 10.4083 13.0797 10.4663C13.3547 10.5243 13.613 10.644 13.8349 10.8165L16.2851 12.7227C17.166 13.408 17.2467 14.7096 16.4583 15.497L15.3596 16.5957C14.5734 17.382 13.3982 17.7273 12.3027 17.3416C9.49882 16.355 6.95305 14.7498 4.85422 12.6451C2.74962 10.5466 1.14445 8.0012 0.157758 5.19771C-0.226885 4.10328 0.118443 2.92704 0.904729 2.14076L2.0034 1.04208Z","fill","black"],["mask","url(#mask0_502_8662)"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.0034 1.04208C2.18932 0.856442 2.41257 0.712434 2.65836 0.619601C2.90414 0.526768 3.16685 0.487229 3.42907 0.503605C3.69129 0.519982 3.94703 0.591899 4.17936 0.714591C4.41168 0.837283 4.61528 1.00795 4.77666 1.21528L6.68393 3.66551C7.03351 4.11497 7.15677 4.70044 7.01864 5.25296L6.43742 7.57994C6.40737 7.70047 6.40899 7.82671 6.44213 7.94643C6.47527 8.06614 6.5388 8.17525 6.62655 8.26316L9.23724 10.8738C9.32526 10.9618 9.43454 11.0254 9.55446 11.0586C9.67438 11.0917 9.80084 11.0932 9.92152 11.063L12.2474 10.4818C12.5201 10.4136 12.8047 10.4083 13.0797 10.4663C13.3547 10.5243 13.613 10.644 13.8349 10.8165L16.2851 12.7227C17.166 13.408 17.2467 14.7096 16.4583 15.497L15.3596 16.5957C14.5734 17.382 13.3982 17.7273 12.3027 17.3416C9.49882 16.355 6.95305 14.7498 4.85422 12.6451C2.74962 10.5466 1.14445 8.0012 0.157758 5.19771C-0.226885 4.10328 0.118443 2.92704 0.904729 2.14076L2.0034 1.04208Z","fill","white"],["version","1.0","xmlns","http://www.w3.org/2000/svg","width","17","height","18","viewBox","0 0 1280.000000 1280.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,1280.000000) scale(0.100000,-0.100000)","fill","#ffffff","stroke","none"],["d","M680 9996 c8 -7 944 -706 2080 -1552 1136 -846 2411 -1796 2834  -2111 l769 -573 31 23 c17 13 1296 966 2841 2117 1546 1151 2814 2097 2819 2102 6 4 -2555 8 -5689 8 -4821 0 -5697 -2 -5685 -14z"],["d","M626 7018 c-4 -1366 -6 -2856 -4 -3311 l3 -828 1146 1308 c631 719 1421 1621 1757 2005 l610 696 -1721 1283 c-947 705 -1736 1293 -1753 1306     l-32 23 -6 -2482z"],["d","M12065 9482 c-11 -10 -789 -592 -1730 -1292 -940 -700 -1718 -1280-1727 -1289 -16 -15 2 -39 290 -367 169 -193 955 -1090 1747 -1994 l1440 -1643 3 1652 c1 908 1 2394 0 3301 -3 1650 -3 1651 -23 1632z"],["d","M7335 5955 c-533 -398 -974 -721 -980 -717 -5 3 -441 327 -967 719  -527 392 -962 713 -967 713 -5 0 -762 -858 -1681 -1907 l-1672 -1908 2652 -3   c1458 -1 3841 -1 5295 0 l2643 3 -1669 1905 c-919 1048 -1673 1908 -1677 1912  -4 3 -443 -319 -977 -717z"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.YNc(1,T,22,4,"ng-container",1),e.YNc(2,A,1,0,"shared-loader",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",i.user),e.xp6(1),e.Q6J("ngIf",!i.user))},dependencies:[p.O5,x.R]})}return t})();const P=function(){return["./datos-personales"]},U=function(){return["./password"]};let b=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["navbar-perfil"]],decls:12,vars:4,consts:[[1,"Descripcion","relative"],[1,"menu"],["routerLinkActive","active",1,"item-navbar",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-fill"],["d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-shield-lock-fill"],["fill-rule","evenodd","d","M8 0c-.69 0-1.843.265-2.928.56-1.11.3-2.229.655-2.887.87a1.54 1.54 0 0 0-1.044 1.262c-.596 4.477.787 7.795 2.465 9.99a11.777 11.777 0 0 0 2.517 2.453c.386.273.744.482 1.048.625.28.132.581.24.829.24s.548-.108.829-.24a7.159 7.159 0 0 0 1.048-.625 11.775 11.775 0 0 0 2.517-2.453c1.678-2.195 3.061-5.513 2.465-9.99a1.541 1.541 0 0 0-1.044-1.263 62.467 62.467 0 0 0-2.887-.87C9.843.266 8.69 0 8 0zm0 5a1.5 1.5 0 0 1 .5 2.915l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99A1.5 1.5 0 0 1 8 5z"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA(),e.kcU(),e.TgZ(5,"p"),e._uU(6,"Datos personales"),e.qZA()(),e.TgZ(7,"div",2),e.O4$(),e.TgZ(8,"svg",5),e._UZ(9,"path",6),e.qZA(),e.kcU(),e.TgZ(10,"p"),e._uU(11,"Contrase\xf1a"),e.qZA()()()()),2&o&&(e.xp6(2),e.Q6J("routerLink",e.DdM(2,P)),e.xp6(5),e.Q6J("routerLink",e.DdM(3,U)))},dependencies:[l.rH,l.Od],styles:['.menu[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;align-self:stretch}.menu[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:1px;left:0;width:100%;height:.2px;background-color:#6c6c6c;z-index:2}.item-navbar[_ngcontent-%COMP%]{display:flex;gap:10px;padding:10px 20px;cursor:pointer}.active.item-navbar[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--primary-color)}.active.item-navbar[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom:2px solid var(--primary-color)}']})}return t})(),w=(()=>{class t{constructor(a){this.perfilService=a,this._user=new m.w0}ngOnInit(){this.getUser(),this.loadUser()}ngOnDestroy(){this._user.unsubscribe()}getUser(){this.perfilService.getUser().subscribe()}loadUser(){this._user=this.perfilService.user.subscribe(a=>this.user=a)}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(u.F))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["layout-page-perfil"]],decls:12,vars:1,consts:[[1,"p-3"],[1,"flex","items-center","justify-end","gap-5","mb-5"],[1,"grid","grid-cols-7","mt-5"],[1,"col-span-2","border-r-[1px]","border-[#6c6c6c]"],[3,"user"],[1,"col-span-5","px-5"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"shared-carrito")(3,"shared-auth-button"),e.qZA(),e.TgZ(4,"h3"),e._uU(5,"Mi perfil"),e.qZA(),e.TgZ(6,"div",2)(7,"div",3),e._UZ(8,"header-perfil",4),e.qZA(),e.TgZ(9,"div",5),e._UZ(10,"navbar-perfil")(11,"router-outlet"),e.qZA()()()),2&o&&(e.xp6(8),e.Q6J("user",i.user))},dependencies:[l.lC,Z.o,C.n,q,b]})}return t})();var s=r(6223),f=r(9355),_=r(333),g=r(9227);const y=["*"];let v=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["datos-actualizados"]],ngContentSelectors:y,decls:6,vars:0,consts:[[1,"contain-cupon","absolute","grid","place-items-center"],[1,"cupon","w-[20%]","lienzo3","min-w-[250px]","p-5","rounded-lg","flex","flex-col","items-center","justify-center","gap-[20px]"],[1,"border-primary","rounded-full","w-[80px]","h-[80px]","grid","place-content-center","border-2"],["xmlns","http://www.w3.org/2000/svg","width","52","height","40","viewBox","0 0 52 40","fill","none"],["d","M43.3208 1.27528C44.1895 0.448265 45.3455 -0.00894241 46.5448 0.000132554C47.7442 0.00920752 48.8931 0.483856 49.7492 1.32392C50.6053 2.16399 51.1015 3.30376 51.1332 4.50274C51.1649 5.70172 50.7296 6.86613 49.9191 7.75026L25.3142 38.5218C24.8911 38.9775 24.3805 39.3432 23.8128 39.5971C23.2452 39.8509 22.6321 39.9877 22.0104 39.9992C21.3887 40.0107 20.771 39.8967 20.1944 39.6641C19.6177 39.4314 19.0939 39.0849 18.6542 38.6452L2.33726 22.3282C1.88286 21.9048 1.5184 21.3942 1.26562 20.8269C1.01284 20.2595 0.876911 19.6471 0.865954 19.0261C0.854997 18.4051 0.969234 17.7883 1.20185 17.2124C1.43446 16.6365 1.78068 16.1133 2.21986 15.6742C2.65904 15.235 3.18218 14.8888 3.75808 14.6561C4.33397 14.4235 4.95081 14.3093 5.57181 14.3203C6.19281 14.3312 6.80524 14.4671 7.37257 14.7199C7.9399 14.9727 8.45049 15.3372 8.87391 15.7916L21.7869 28.6984L43.2036 1.41095C43.2422 1.36347 43.2772 1.31818 43.3208 1.27528Z","fill","#6BBD5B"]],template:function(o,i){1&o&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA()(),e.Hsn(5),e.qZA()())},styles:[".contain-cupon[_ngcontent-%COMP%]{background-color:#000c;position:fixed;inset:0;height:100%;transition:all ease-in .3s;z-index:20}.cupon[_ngcontent-%COMP%]{transform:scale(1);transition:all ease-in .3s}svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--primary-color)}"]})}return t})();function I(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Este campo es requerido "),e.qZA())}function F(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,I,2,0,"p",10),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a)}}function N(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Este campo es requerido "),e.qZA())}function J(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Minimo 5 caracteres "),e.qZA())}function D(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Debe tener un n\xfamero "),e.qZA())}function Y(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Debe tener una letra "),e.qZA())}function Q(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Debe tener un caracter especial "),e.qZA())}function O(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,N,2,0,"p",10),e.YNc(2,J,2,0,"p",10),e.YNc(3,D,2,0,"p",10),e.YNc(4,Y,2,0,"p",10),e.YNc(5,Q,2,0,"p",10),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a),e.xp6(1),e.Q6J("ngIf","minLength"===a),e.xp6(1),e.Q6J("ngIf","missingNumber"===a),e.xp6(1),e.Q6J("ngIf","missingLetter"===a),e.xp6(1),e.Q6J("ngIf","missingSpecialChar"===a)}}function L(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Este campo es requerido "),e.qZA())}function M(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Minimo 5 caracteres "),e.qZA())}function E(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Debe tener un n\xfamero "),e.qZA())}function S(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Debe tener una letra "),e.qZA())}function z(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Debe tener un caracter especial "),e.qZA())}function k(t,n){1&t&&(e.TgZ(0,"p",11),e._uU(1," Las contrase\xf1as no coinciden "),e.qZA())}function B(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,L,2,0,"p",10),e.YNc(2,M,2,0,"p",10),e.YNc(3,E,2,0,"p",10),e.YNc(4,S,2,0,"p",10),e.YNc(5,z,2,0,"p",10),e.YNc(6,k,2,0,"p",10),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a),e.xp6(1),e.Q6J("ngIf","minLength"===a),e.xp6(1),e.Q6J("ngIf","missingNumber"===a),e.xp6(1),e.Q6J("ngIf","missingLetter"===a),e.xp6(1),e.Q6J("ngIf","missingSpecialChar"===a),e.xp6(1),e.Q6J("ngIf","notEqual"===a)}}function V(t,n){1&t&&(e.TgZ(0,"datos-actualizados"),e._uU(1," Contrase\xf1a actualizada\n"),e.qZA())}let j=(()=>{class t{constructor(a,o,i,c){this.rutaEmpresa=a,this.fb=o,this.validatorsService=i,this.perfilService=c,this.myForm=this.fb.group({pass:["",[s.kI.required]],newPass1:["",[s.kI.required,this.validatorsService.passwordValidator()]],newPass2:["",[s.kI.required,this.validatorsService.passwordValidator()]]},{validators:[this.validatorsService.isFieldOneEqualFieldTwo("newPass1","newPass2")]}),this.isPopupOpen=!1}ngOnInit(){this.empresa=this.rutaEmpresa.getEmpresa()}isValidField(a){return this.validatorsService.isValidField(this.myForm,a)}actualizarDatos(){if(this.myForm.invalid)return void this.myForm.markAllAsTouched();const a={pass:this.myForm.get("pass")?.value,newPass:this.myForm.get("newPass1")?.value};this.perfilService.updatePassword(this.empresa,a).subscribe(o=>{this.myForm.reset(),this.isPopupOpen=!0,setTimeout(()=>{this.isPopupOpen=!1},1500)})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(f.e),e.Y36(s.qu),e.Y36(_.S),e.Y36(u.F))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["perfil-password"]],decls:21,vars:5,consts:[[1,"flex",3,"formGroup"],[1,"grid","gap-5","p-5"],[1,"flex","flex-col","gap-1"],["for","nombre"],["formControlName","pass","type","password",1,"md:w-[350px]"],[4,"ngIf"],["formControlName","newPass1","type","password",1,"md:w-[350px]"],["formControlName","newPass2","type","password",1,"md:w-[350px]"],[1,"flex","justify-center","md:justify-normal"],["typeButton","primary",3,"click"],["class","text-red-400 text-[12px]",4,"ngIf"],[1,"text-red-400","text-[12px]"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Contrase\xf1a actual:"),e.qZA(),e._UZ(5,"input",4),e.YNc(6,F,2,1,"div",5),e.qZA(),e.TgZ(7,"div",2)(8,"label",3),e._uU(9,"Nueva contrase\xf1a:"),e.qZA(),e._UZ(10,"input",6),e.YNc(11,O,6,5,"div",5),e.qZA(),e.TgZ(12,"div",2)(13,"label",3),e._uU(14,"Confirmar contrase\xf1a:"),e.qZA(),e._UZ(15,"input",7),e.YNc(16,B,7,6,"div",5),e.qZA(),e.TgZ(17,"div",8)(18,"shared-botones",9),e.NdJ("click",function(){return i.actualizarDatos()}),e._uU(19," Actualizar contrase\xf1a "),e.qZA()()()(),e.YNc(20,V,2,0,"datos-actualizados",5)),2&o&&(e.Q6J("formGroup",i.myForm),e.xp6(6),e.Q6J("ngIf",i.isValidField("pass")),e.xp6(5),e.Q6J("ngIf",i.isValidField("newPass1")),e.xp6(5),e.Q6J("ngIf",i.isValidField("newPass2")),e.xp6(4),e.Q6J("ngIf",i.isPopupOpen))},dependencies:[p.O5,g.x,s.Fj,s.JJ,s.JL,s.sg,s.u,v]})}return t})();var $=r(4567);function G(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," Este campo es requerido. "),e.qZA())}function H(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," El nombre debe tener al menos 5 caracteres. "),e.qZA())}function R(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," El nombre no puede tener m\xe1s de 20 caracteres. "),e.qZA())}function X(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," El nombre ya esta registrado "),e.qZA())}function K(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,G,2,0,"p",15),e.YNc(2,H,2,0,"p",15),e.YNc(3,R,2,0,"p",15),e.YNc(4,X,2,0,"p",15),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a),e.xp6(1),e.Q6J("ngIf","minlength"===a),e.xp6(1),e.Q6J("ngIf","maxlength"===a),e.xp6(1),e.Q6J("ngIf","nickNameNoUnico"===a)}}function W(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," Este campo es requerido "),e.qZA())}function ee(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," Usa el formato 'DD/MM/AAAA', ej. 01/01/2001. "),e.qZA())}function te(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,W,2,0,"p",15),e.YNc(2,ee,2,0,"p",15),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a),e.xp6(1),e.Q6J("ngIf","pattern"===a)}}function ae(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," Este campo es requerido "),e.qZA())}function ne(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," El n\xfamero debe tener al menos 8 caracteres. "),e.qZA())}function oe(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," El n\xfamero no puede tener m\xe1s de 30 caracteres. "),e.qZA())}function ie(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ae,2,0,"p",15),e.YNc(2,ne,2,0,"p",15),e.YNc(3,oe,2,0,"p",15),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a),e.xp6(1),e.Q6J("ngIf","minlength"===a),e.xp6(1),e.Q6J("ngIf","maxlength"===a)}}function se(t,n){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.Q6J("value",a.value),e.xp6(1),e.hij(" ",a.name," ")}}function re(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," Este campo es requerido "),e.qZA())}function ce(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,re,2,0,"p",15),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a)}}function pe(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," Este campo es requerido "),e.qZA())}function le(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,pe,2,0,"p",15),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a)}}function ue(t,n){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.Q6J("value",a.value),e.xp6(1),e.hij(" ",a.name," ")}}function de(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," Este campo es requerido "),e.qZA())}function me(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,de,2,0,"p",15),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a)}}function fe(t,n){1&t&&(e.TgZ(0,"p",16),e._uU(1," Este campo es requerido "),e.qZA())}function _e(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,fe,2,0,"p",15),e.qZA()),2&t){const a=n.ngIf;e.xp6(1),e.Q6J("ngIf","required"===a)}}function ge(t,n){1&t&&(e.TgZ(0,"datos-actualizados"),e._uU(1," Datos actualizados\n"),e.qZA())}const ve=[{path:"",component:w,children:[{path:"",redirectTo:"datos-personales",pathMatch:"full"},{path:"datos-personales",component:(()=>{class t{constructor(a,o,i,c,h){this.fb=a,this.rutaEmpresaService=o,this.validatorsService=i,this.perfilService=c,this.authService=h,this._user=new m.w0,this.paises=[{value:"Argentina",name:"Argentina"},{value:"Bolivia",name:"Bolivia"},{value:"Brasil",name:"Brasil"},{value:"Chile",name:"Chile"},{value:"Colombia",name:"Colombia"},{value:"Ecuador",name:"Ecuador"},{value:"Guyana",name:"Guyana"},{value:"Per\xfa",name:"Per\xfa"},{value:"Surinam",name:"Surinam"},{value:"Uruguay",name:"Uruguay"},{value:"Venezuela",name:"Venezuela"},{value:"Bahamas",name:"Bahamas"},{value:"Barbados",name:"Barbados"},{value:"Canad\xe1",name:"Canad\xe1"},{value:"Costa Rica",name:"Costa Rica"},{value:"Cuba",name:"Cuba"},{value:"Dominica",name:"Dominica"},{value:"Granada",name:"Granada"},{value:"Jamaica",name:"Jamaica"},{value:"Estados Unidos",name:"Estados Unidos"},{value:"M\xe9xico",name:"M\xe9xico"},{value:"Panam\xe1",name:"Panam\xe1"},{value:"Rep\xfablica Dominicana",name:"Rep\xfablica Dominicana"},{value:"Trinidad y Tobago",name:"Trinidad y Tobago"}],this.gradosAcademicos=[{value:"Estudiante",name:"Estudiante"},{value:"Bachiller",name:"Bachiller"},{value:"Licenciatura",name:"Licenciatura"},{value:"Ingeniero",name:"Ingeniero"},{value:"Magister",name:"Magister"},{value:"Doctorado",name:"Doctorado"}],this.isPopupOpen=!1,this.myForm=this.fb.group({nombre_usuario:["",[s.kI.required,s.kI.minLength(5),s.kI.maxLength(20)],this.validatorsService.nickNameValidator()],fecha_nacimiento:["",[s.kI.required]],telefono:["",[s.kI.required,s.kI.minLength(8),s.kI.maxLength(30)]],pais:["",s.kI.required],grado_estudio:["",s.kI.required],ocupacion:["",s.kI.required],imagen:[""]})}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa(),this.loadUser()}ngOnDestroy(){this._user.unsubscribe()}loadUser(){this._user=this.perfilService.user.subscribe(a=>{this.myForm.reset(this.userLoaded(a))})}userLoaded(a){let o="";return a&&(o=this.convertirFecha(a.usuario_fecha_nacimiento)),{nombre_usuario:a?.usuario_usuario||"",fecha_nacimiento:o||"",telefono:a?.usuario_telefono||"",pais:a?.usuario_pais||"",grado_estudio:a?.usuario_gradoacademico||"",ocupacion:a?.usuario_ocupacion||"",imagen:a?.usuario_imagen||""}}convertirFecha(a){const o=new Date(a),i=("0"+o.getUTCDate()).slice(-2),c=("0"+(o.getUTCMonth()+1)).slice(-2);return`${o.getUTCFullYear()}-${c}-${i}`}actualizarDatos(){if(this.myForm.invalid)return void this.myForm.markAllAsTouched();const o=this.myForm.value;this.perfilService.updateUser(this.empresa,o).subscribe(()=>{this.isPopupOpen=!0,this.perfilService.modifiedUser(o),this.authService.modifiedUser(o),setTimeout(()=>{this.isPopupOpen=!1},1500)})}isValidField(a){return this.validatorsService.isValidField(this.myForm,a)}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(f.e),e.Y36(_.S),e.Y36(u.F),e.Y36($.e))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["datos-personales"]],decls:43,vars:11,consts:[[1,"p-5",3,"formGroup","ngSubmit"],[1,"grid","md:grid-cols-2","gap-5"],[1,"flex","flex-col","gap-1"],["formControlName","nombre_usuario","type","text"],[4,"ngIf"],["formControlName","fecha_nacimiento","type","date"],["formControlName","telefono","type","text"],["formControlName","pais"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ocupacion","type","text"],["formControlName","grado_estudio"],[1,"col-span-2","flex","flex-col","gap-1"],["formControlName","imagen","type","text"],[1,"flex","justify-center","mt-5"],["typeButton","primary"],["class","text-red-400 text-[12px]",4,"ngIf"],[1,"text-red-400","text-[12px]"],[3,"value"]],template:function(o,i){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.actualizarDatos()}),e.TgZ(1,"div",1)(2,"div",2)(3,"label"),e._uU(4,"Nombre de usuario:"),e.qZA(),e._UZ(5,"input",3),e.YNc(6,K,5,4,"div",4),e.qZA(),e.TgZ(7,"div",2)(8,"label"),e._uU(9,"Fecha de nacimiento:"),e.qZA(),e._UZ(10,"input",5),e.YNc(11,te,3,2,"div",4),e.qZA(),e.TgZ(12,"div",2)(13,"label"),e._uU(14,"N\xfamero de celular:"),e.qZA(),e._UZ(15,"input",6),e.YNc(16,ie,4,3,"div",4),e.qZA(),e.TgZ(17,"div",2)(18,"label"),e._uU(19,"Pa\xeds de residencia:"),e.qZA(),e.TgZ(20,"select",7),e.YNc(21,se,2,2,"option",8),e.qZA(),e.YNc(22,ce,2,1,"div",4),e.qZA(),e.TgZ(23,"div",2)(24,"label"),e._uU(25,"Ocupaci\xf3n:"),e.qZA(),e._UZ(26,"input",9),e.YNc(27,le,2,1,"div",4),e.qZA(),e.TgZ(28,"div",2)(29,"label"),e._uU(30,"Grado acad\xe9mico:"),e.qZA(),e.TgZ(31,"select",10),e.YNc(32,ue,2,2,"option",8),e.qZA(),e.YNc(33,me,2,1,"div",4),e.qZA(),e.TgZ(34,"div",11)(35,"label"),e._uU(36,"Imagen:"),e.qZA(),e._UZ(37,"input",12),e.YNc(38,_e,2,1,"div",4),e.qZA()(),e.TgZ(39,"div",13)(40,"shared-botones",14),e._uU(41,"Actualizar datos"),e.qZA()()(),e.YNc(42,ge,2,0,"datos-actualizados",4)),2&o&&(e.Q6J("formGroup",i.myForm),e.xp6(6),e.Q6J("ngIf",i.isValidField("nombre_usuario")),e.xp6(5),e.Q6J("ngIf",i.isValidField("fecha_nacimiento")),e.xp6(5),e.Q6J("ngIf",i.isValidField("telefono")),e.xp6(5),e.Q6J("ngForOf",i.paises),e.xp6(1),e.Q6J("ngIf",i.isValidField("pais")),e.xp6(5),e.Q6J("ngIf",i.isValidField("ocupacion")),e.xp6(5),e.Q6J("ngForOf",i.gradosAcademicos),e.xp6(1),e.Q6J("ngIf",i.isValidField("grado_estudio")),e.xp6(5),e.Q6J("ngIf",i.isValidField("imagen")),e.xp6(4),e.Q6J("ngIf",i.isPopupOpen))},dependencies:[p.sg,p.O5,g.x,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,v]})}return t})()},{path:"password",component:j}]}];let he=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#a=this.\u0275inj=e.cJS({imports:[l.Bz.forChild(ve),l.Bz]})}return t})();var Ze=r(6208);let Ce=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#a=this.\u0275inj=e.cJS({imports:[p.ez,he,Ze.m,s.UX]})}return t})()}}]);