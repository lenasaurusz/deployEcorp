"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[939],{9939:(uo,d,s)=>{s.r(d),s.d(d,{PromocionesModule:()=>mo});var a=s(6814),l=s(180),g=s(7394),o=s(4946),m=s(9355),h=s(9862),b=s(5065),f=s(6306),v=s(2096),T=s(7398);let P=(()=>{class t{constructor(e){this.http=e,this.URL=b.T.baseUrl}getPromociones(e,n){const i=`${this.URL}/paquete/${e}`;let r=new h.LE;return r=r.set("tipo",1),r=r.set("page",n?.page?n?.page:1),r=r.set("sizePage",n?.sizePage?n?.sizePage:10),n?.input&&(r=r.set("input",n.input)),n?.orden&&(r=r.set("orden",n.orden)),this.http.get(i,{params:r}).pipe((0,f.K)(p=>(console.error("Error al obtener lista de promociones",p),(0,v.of)(void 0))))}getPromocion(e,n){return this.http.get(`${this.URL}/paquete/${e}/${n}/1`).pipe((0,T.U)(r=>r[0]),(0,f.K)(r=>(console.error("Error al obtener promocion",r),(0,v.of)(void 0))))}static#o=this.\u0275fac=function(n){return new(n||t)(o.LFG(h.eN))};static#e=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var O=s(3561),_=s(9185),y=s(1269),C=s(9013),x=s(9227);function w(t,c){if(1&t&&(o.TgZ(0,"div",20),o._UZ(1,"img",21),o.TgZ(2,"span",22),o._uU(3),o.qZA()()),2&t){const e=c.$implicit;o.xp6(1),o.Q6J("src",e.imagen,o.LSH)("alt",e.docente),o.xp6(2),o.hij(" ",e.docente," ")}}let S=(()=>{class t{constructor(e){this.cartService=e}toggleToCart(){const e=this.cartService.promocionToProduct(this.promocion);this.isinCart()?this.cartService.removeFromCart(e.id,e.tipo):this.cartService.addToCart(e)}buyNow(){const e=this.cartService.promocionToProduct(this.promocion);this.cartService.buyNow(e)}isinCart(){const e=this.cartService.promocionToProduct(this.promocion);return this.cartService.isProductInCart(e.id,e.tipo)}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(C.N))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promocion-precio"]],inputs:{empresa:"empresa",promocion:"promocion"},decls:38,vars:17,consts:[[1,"bg-[#272727]","rounded-lg","p-5","flex","flex-col","gap-[20px]","text-center","justify-center","h-full",3,"ngClass"],[1,"text-center","font-bold"],[1,"flex","items-center","justify-center"],[1,"ml-2","mr-8","text-sm",3,"ngClass"],[1,"text-xl","font-bold"],[1,"flex","flex-col","gap-1"],[1,"flex","gap-[10px]","justify-center","items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-award-fill"],["d","m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864 8 0z"],["d","M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"],[1,"text-sm"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-book-half"],["d","M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-infinity"],["d","M5.68 5.792 7.345 7.75 5.681 9.708a2.75 2.75 0 1 1 0-3.916ZM8 6.978 6.416 5.113l-.014-.015a3.75 3.75 0 1 0 0 5.304l.014-.015L8 8.522l1.584 1.865.014.015a3.75 3.75 0 1 0 0-5.304l-.014.015L8 6.978Zm.656.772 1.663-1.958a2.75 2.75 0 1 1 0 3.916L8.656 7.75Z"],[1,"flex","flex-wrap","justify-center","gap-[10px]"],["class","docente-item flex items-center gap-[10px] lienzo2 py-2 px-3 rounded-lg shadow-lg",4,"ngFor","ngForOf"],[1,"text-xl","flex","gap-[20px]","items-center","justify-center"],["typeButton","primary",1,"flex-1",3,"click"],["typeButton","secondary",1,"flex-1",3,"isinCart","click"],[1,"docente-item","flex","items-center","gap-[10px]","lienzo2","py-2","px-3","rounded-lg","shadow-lg"],[1,"rounded-full","object-cover","w-[30px]","h-[30px]",3,"src","alt"],[1,"text-sm","font-bold"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0)(1,"h3",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2)(4,"span")(5,"s"),o._uU(6),o.ALo(7,"currency"),o.qZA()(),o.TgZ(8,"span",3),o._uU(9),o.ALo(10,"percent"),o.qZA(),o.TgZ(11,"span",4),o._uU(12),o.ALo(13,"currency"),o.qZA()(),o.TgZ(14,"div",5)(15,"div",6),o.O4$(),o.TgZ(16,"svg",7),o._UZ(17,"path",8)(18,"path",9),o.qZA(),o.kcU(),o.TgZ(19,"span",10),o._uU(20," Calidad Garantizada "),o.qZA()(),o.TgZ(21,"div",6),o.O4$(),o.TgZ(22,"svg",11),o._UZ(23,"path",12),o.qZA(),o.kcU(),o.TgZ(24,"span",10),o._uU(25),o.qZA()(),o.TgZ(26,"div",6),o.O4$(),o.TgZ(27,"svg",13),o._UZ(28,"path",14),o.qZA(),o.kcU(),o.TgZ(29,"span",10),o._uU(30," Acceso ilimitado"),o.qZA()()(),o.TgZ(31,"div",15),o.YNc(32,w,4,3,"div",16),o.qZA(),o.TgZ(33,"div",17)(34,"shared-botones",18),o.NdJ("click",function(){return i.buyNow()}),o._uU(35," Comprar ahora "),o.qZA(),o.TgZ(36,"shared-botones",19),o.NdJ("click",function(){return i.toggleToCart()}),o._uU(37," A\xf1adir al carrito "),o.qZA()()()),2&n&&(o.Q6J("ngClass",i.empresa),o.xp6(2),o.Oqu(i.promocion.nombre),o.xp6(4),o.Oqu(o.xi3(7,9,i.promocion.solesantes,"S/. ")),o.xp6(2),o.Q6J("ngClass","txt-"+i.empresa),o.xp6(1),o.hij(" -",o.lcZ(10,12,(i.promocion.solesantes-i.promocion.soles)/i.promocion.solesantes)," "),o.xp6(3),o.hij(" ",o.xi3(13,14,i.promocion.soles,"S/. ")," "),o.xp6(13),o.hij(" ",i.promocion.cursos.length," cursos "),o.xp6(7),o.Q6J("ngForOf",i.promocion.cursos),o.xp6(4),o.Q6J("isinCart",i.isinCart()))},dependencies:[a.mk,a.sg,x.x,a.Zx,a.H9],styles:[".Ecoambiental[_ngcontent-%COMP%]   .docente-item[_ngcontent-%COMP%]:hover{background-color:var(--eco);color:var(--lienzo-2)}"]})}return t})();function F(t,c){if(1&t&&(o.O4$(),o.kcU(),o.TgZ(0,"div",6)(1,"p",7),o._uU(2),o.qZA(),o.TgZ(3,"div",8)(4,"span"),o._uU(5,"Docente:"),o.qZA(),o.TgZ(6,"div",9),o._UZ(7,"img",10),o.TgZ(8,"span")(9,"u"),o._uU(10),o.qZA()()()()()),2&t){const e=o.oxw();o.xp6(2),o.hij(" ",e.curso.descripcion," "),o.xp6(5),o.Q6J("src",e.curso.imagen,o.LSH)("alt",e.curso.docente),o.xp6(3),o.Oqu(e.curso.docente)}}const A=function(t){return["modulo",t]};let M=(()=>{class t{constructor(){this.showCurso=!1}ngOnInit(){}changeShowCurso(){this.showCurso=!this.showCurso}static#o=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promocion-curso"]],inputs:{empresa:"empresa",showCurso:"showCurso",curso:"curso"},decls:8,vars:10,consts:[[1,"p-5","border","border-l-4","border-transparent","flex","flex-col","gap-5","curso","bg-[var(--lienzo-3)]",3,"ngClass"],[1,"cursor-pointer","py-[5px]","flex","justify-between",3,"ngClass","click"],[3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"icon",3,"ngClass"],["d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"],["class","flex flex-col gap-2",4,"ngIf"],[1,"flex","flex-col","gap-2"],[1,"text-sm","bodyText"],[1,"flex","justify-between","text-sm","items-center"],[1,"flex","items-center","gap-3"],[1,"rounded-full","object-cover","w-[40px]","h-[40px]",3,"src","alt"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0)(1,"div",1),o.NdJ("click",function(){return i.changeShowCurso()}),o.TgZ(2,"h5",2),o._uU(3),o.qZA(),o.TgZ(4,"div"),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"path",4),o.qZA()()(),o.YNc(7,F,11,4,"div",5),o.qZA()),2&n&&(o.ekj("active",i.showCurso),o.Q6J("ngClass",i.empresa),o.xp6(1),o.Q6J("ngClass",o.VKq(8,A,"hover-"+i.empresa)),o.xp6(1),o.Q6J("ngClass",i.showCurso?"txt-"+i.empresa:""),o.xp6(1),o.Oqu(i.curso.nombre),o.xp6(2),o.Q6J("ngClass",i.showCurso?"rotate-180":""),o.xp6(2),o.Q6J("ngIf",i.showCurso))},dependencies:[a.mk,a.O5],styles:[".active.Ecoambiental[_ngcontent-%COMP%]{border-left-color:var(--eco)}.active.Ghamec[_ngcontent-%COMP%]{border-left-color:var(--ghamec)}.active.Acm[_ngcontent-%COMP%]{border-left-color:var(--acm)}.active.Ecoambiental[_ngcontent-%COMP%]   .modulo[_ngcontent-%COMP%]{color:var(--eco);fill:var(--eco)}.active.Ghamec[_ngcontent-%COMP%]   .modulo[_ngcontent-%COMP%]{color:var(--ghamec);fill:var(--ghamec)}.active.Acm[_ngcontent-%COMP%]   .modulo[_ngcontent-%COMP%]{color:var(--acm);fill:var(--acm)}.icon[_ngcontent-%COMP%]{transition:transform ease-in-out .25s}"]})}return t})(),U=(()=>{class t{static#o=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promocion-imagen"]],inputs:{imagen:"imagen"},decls:1,vars:1,consts:[["alt","",1,"rounded-lg","object-cover",3,"src"]],template:function(n,i){1&n&&o._UZ(0,"img",0),2&n&&o.Q6J("src",i.imagen,o.LSH)}})}return t})();function J(t,c){if(1&t&&(o.TgZ(0,"li",4)(1,"p",2),o._uU(2),o.qZA()()),2&t){const e=c.$implicit;o.xp6(2),o.hij(" ",e.descripcion," ")}}let q=(()=>{class t{static#o=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promocion-descripcion"]],inputs:{promocion:"promocion"},decls:11,vars:2,consts:[[1,"flex","flex-col","gap-7"],[1,"flex","flex-col","gap-5"],[1,"bodyText","text-sm"],["class","list-disc ml-5",4,"ngFor","ngForOf"],[1,"list-disc","ml-5"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h4"),o._uU(3,"Perfil del alumno"),o.qZA(),o.TgZ(4,"p",2),o._uU(5),o.qZA()(),o.TgZ(6,"div",1)(7,"h4"),o._uU(8,"Objetivos de la promoci\xf3n"),o.qZA(),o.TgZ(9,"ul"),o.YNc(10,J,3,1,"li",3),o.qZA()()()),2&n&&(o.xp6(5),o.hij(" ",i.promocion.perfil," "),o.xp6(5),o.Q6J("ngForOf",i.promocion.objetivos))},dependencies:[a.sg]})}return t})();function Q(t,c){if(1&t&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&t){const e=c.$implicit;o.xp6(1),o.Oqu(e.nombre)}}const L=function(t,c){return["/",t,"promociones",c]};let z=(()=>{class t{constructor(e,n){this.rutaEmpresaService=e,this.cartService=n}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa()}toggleCart(e){e.stopPropagation();const n=this.cartService.promocionToProduct(this.promocion);this.isinCart()?this.cartService.removeFromCart(n.id,n.tipo):this.cartService.addToCart(n)}buyNow(e){e.stopPropagation();const n=this.cartService.promocionToProduct(this.promocion);this.cartService.buyNow(n)}isinCart(){const e=this.cartService.promocionToProduct(this.promocion);return this.cartService.isProductInCart(e.id,e.tipo)}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(m.e),o.Y36(C.N))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promociones-card-promociones"]],inputs:{promocion:"promocion"},decls:23,vars:18,consts:[[1,"card-promocion","cursor-pointer","text-white","lienzo3","shadow-lg","flex","flex-col","rounded-2xl","w-full","overflow-hidden","h-full",3,"routerLink","ngClass"],[1,"w-full"],["alt","",1,"w-full","rounded-t-2xl","h-[160px]","object-cover",3,"src"],[1,"p-3","flex-1","flex","flex-col","justify-between","gap-[10px]"],[1,"font-bold","text-base"],[1,"flex","gap-2","items-center","justify-center","my-2"],[1,"font-extralight","text-xs"],[1,"card-promocion__price","text-base","font-bold"],[1,"font-light","text-xs"],[1,"scroll","font-light","text-xs","list-disc","pl-4","max-h-24","overflow-y-auto"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-[10px]"],["typeButton","primary",3,"click"],["typeButton","secondary",3,"isinCart","click"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"h3",4),o._uU(5),o.qZA(),o.TgZ(6,"div",5)(7,"span",6)(8,"s"),o._uU(9),o.ALo(10,"currency"),o.qZA()(),o.TgZ(11,"span",7),o._uU(12),o.ALo(13,"currency"),o.qZA()(),o.TgZ(14,"p",8),o._uU(15),o.qZA(),o.TgZ(16,"ul",9),o.YNc(17,Q,2,1,"li",10),o.qZA(),o.TgZ(18,"div",11)(19,"shared-botones",12),o.NdJ("click",function(p){return i.buyNow(p)}),o._uU(20," Comprar ahora "),o.qZA(),o.TgZ(21,"shared-botones",13),o.NdJ("click",function(p){return i.toggleCart(p)}),o._uU(22," A\xf1adir al carrito "),o.qZA()()()()),2&n&&(o.Q6J("routerLink",o.WLB(15,L,i.empresa,i.promocion.id))("ngClass",i.empresa),o.xp6(2),o.Q6J("src",i.promocion.imagen,o.LSH),o.xp6(3),o.Oqu(i.promocion.nombre),o.xp6(4),o.Oqu(o.xi3(10,9,i.promocion.solesantes,"S/. ")),o.xp6(3),o.Oqu(o.xi3(13,12,i.promocion.soles,"S/. ")),o.xp6(3),o.hij(" Incluye ",i.promocion.cursos.length," cursos: "),o.xp6(2),o.Q6J("ngForOf",i.promocion.cursos),o.xp6(4),o.Q6J("isinCart",i.isinCart()))},dependencies:[a.mk,a.sg,l.rH,x.x,a.H9],styles:[".card-promocion[_ngcontent-%COMP%]{background-color:var(--lienzo-3);transition:all ease-in .3s}.card-promocion[_ngcontent-%COMP%], .card-promocion__price[_ngcontent-%COMP%]{transition:background-color ease-in-out .3s,box-shadow ease-in-out .2s,color ease-in-out .2s}.card-promocion[_ngcontent-%COMP%]:hover{background-color:var(--lienzo-2);box-shadow:4px 4px 6px #00000040}.card-promocion.Ecoambiental[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%], .card-promocion.Ecoambiental[_ngcontent-%COMP%]:hover   .card-promocion__price[_ngcontent-%COMP%]{color:var(--eco);transition:color .3s ease}.card-promocion.Ghamec[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%], .card-promocion.Ghamec[_ngcontent-%COMP%]:hover   .card-promocion__price[_ngcontent-%COMP%]{color:var(--ghamec);transition:color .3s ease}.card-promociones.Acm[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%], .card-promociones.Acm[_ngcontent-%COMP%]:hover   .card-promocion__price[_ngcontent-%COMP%]{color:var(--acm);transition:color .3s ease}.icon[_ngcontent-%COMP%]{transition:transform ease-in-out .25s}.scroll[_ngcontent-%COMP%]{padding-right:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:3.5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#555;border-radius:6px}.Ecoambiental[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--eco);border-radius:6px}.Ghamec[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--ghamec);border-radius:6px}.Acm[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--acm);border-radius:6px}"]})}return t})();function Y(t,c){1&t&&o._UZ(0,"promociones-card-promociones",2),2&t&&o.Q6J("promocion",c.$implicit)}let Z=(()=>{class t{static#o=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promociones-list"]],inputs:{promociones:"promociones"},decls:2,vars:1,consts:[[1,"grid-promociones"],["class","w-full max-w-[350px]",3,"promocion",4,"ngFor","ngForOf"],[1,"w-full","max-w-[350px]",3,"promocion"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0),o.YNc(1,Y,1,1,"promociones-card-promociones",1),o.qZA()),2&n&&(o.xp6(1),o.Q6J("ngForOf",i.promociones))},dependencies:[a.sg,z],styles:[".grid-promociones[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(270px,1fr));gap:20px;justify-content:center;justify-items:center}"]})}return t})();function j(t,c){if(1&t&&o._UZ(0,"promocion-curso",9),2&t){const e=c.$implicit,n=c.index,i=o.oxw(3);o.Q6J("curso",e)("empresa",i.empresa)("showCurso",0===n)}}function k(t,c){if(1&t&&(o.TgZ(0,"div",3),o._UZ(1,"promocion-imagen",4)(2,"promocion-precio",5),o.TgZ(3,"div",6),o.YNc(4,j,1,3,"promocion-curso",7),o.qZA(),o._UZ(5,"promocion-descripcion",8),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("imagen",e.promocion.imagen),o.xp6(1),o.Q6J("empresa",e.empresa)("promocion",e.promocion),o.xp6(2),o.Q6J("ngForOf",e.promocion.cursos),o.xp6(1),o.Q6J("promocion",e.promocion)}}function I(t,c){if(1&t&&(o.TgZ(0,"div",10)(1,"h3"),o._uU(2,"Opiniones sobre la promoci\xf3n"),o.qZA(),o._UZ(3,"opinion-list",11),o.qZA()),2&t){const e=o.oxw(2);o.xp6(3),o.Q6J("opiniones",e.opiniones)}}function N(t,c){if(1&t&&(o.TgZ(0,"div",10)(1,"h3"),o._uU(2,"Te podr\xeda gustar"),o.qZA(),o._UZ(3,"promociones-list",12),o.qZA()),2&t){const e=o.oxw(2);o.xp6(3),o.Q6J("promociones",e.promociones)}}function E(t,c){if(1&t&&(o.ynx(0),o.YNc(1,k,6,5,"div",1),o.YNc(2,I,4,1,"div",2),o.YNc(3,N,4,1,"div",2),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.promocion),o.xp6(1),o.Q6J("ngIf",e.opiniones.length>0),o.xp6(1),o.Q6J("ngIf",e.promociones.length>0)}}function $(t,c){1&t&&o._UZ(0,"shared-loader")}let D=(()=>{class t{constructor(e,n,i,r,p){this.router=e,this.activatedRouter=n,this.rutaEmpresaService=i,this.promocionesService=r,this.opinionService=p,this.params=new g.w0,this.loading=!0,this.promociones=[],this.opiniones=[]}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa(),this.getId()}ngOnDestroy(){this.params.unsubscribe()}getId(){this.params=this.activatedRouter.params.subscribe(({id:e})=>{this.loading=!0,this.getPromocion(e),this.getOpiniones(e),this.getPromociones(e)})}getPromocion(e){this.promocionesService.getPromocion(this.empresa,e).subscribe(n=>{if(!n)return this.router.navigate(["/",this.empresa,"promociones"]);this.promocion=n,setTimeout(()=>this.loading=!1,1e3)})}getOpiniones(e){this.opinionService.getOpiniones(this.empresa,{tipoContenido:1,idContenido:e}).subscribe(i=>{i&&(this.opiniones=i)})}getPromociones(e){this.promocionesService.getPromociones(this.empresa,{page:1,sizePage:6}).subscribe(i=>{i&&(this.promociones=i.paquetes.filter(r=>r.id!=e).slice(0,5))})}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(l.F0),o.Y36(l.gz),o.Y36(m.e),o.Y36(P),o.Y36(O.T))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-detalle-page-promociones"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","gap-7 grid grid-cols-1 lg:grid-cols-2",4,"ngIf"],["class","mt-7 flex flex-col gap-5",4,"ngIf"],[1,"gap-7","grid","grid-cols-1","lg:grid-cols-2"],[1,"w-full",3,"imagen"],[1,"w-full",3,"empresa","promocion"],[1,"flex-1","flex","flex-col","cursos","h-full"],["class","promocion-curso",3,"curso","empresa","showCurso",4,"ngFor","ngForOf"],[1,"flex-1",3,"promocion"],[1,"promocion-curso",3,"curso","empresa","showCurso"],[1,"mt-7","flex","flex-col","gap-5"],[3,"opiniones"],[3,"promociones"]],template:function(n,i){1&n&&(o.YNc(0,E,4,3,"ng-container",0),o.YNc(1,$,1,0,"shared-loader",0)),2&n&&(o.Q6J("ngIf",!i.loading),o.xp6(1),o.Q6J("ngIf",i.loading))},dependencies:[a.sg,a.O5,_.R,y.X,S,M,U,q,Z],styles:[".promocion-curso[_ngcontent-%COMP%]{border:solid 1px #131313}"]})}return t})();var B=s(5619);let u=(()=>{class t{get filtrosPromocion(){return this._filtrosPromocion}get input(){return this._input}set input(e){this._input=e}get orden(){return this._orden}set orden(e){this._orden=e}get page(){return this._page}set page(e){this._page=e}get sizePage(){return this._sizePage}set sizePage(e){this._sizePage=e}constructor(e,n,i){this.activatedRoute=e,this.rutaEmpresaService=n,this.router=i,this.params=new g.w0,this._filtrosPromocion=new B.X(void 0),this.loadFiltros()}updateFiltros(){const e={...void 0!==this.input&&{input:this.input},...void 0!==this.orden&&{orden:this.orden},...void 0!==this.page&&{page:this.page},...void 0!==this.sizePage&&{sizePage:this.sizePage}};Object.keys(e).length>0?this._filtrosPromocion.next(e):this._filtrosPromocion.next(void 0)}loadFiltros(){this.params=this.activatedRoute.queryParamMap.subscribe(e=>{this.input=e.get("input")||void 0;const n=e.get("orden");this.orden=null!=n?parseInt(n):void 0;const i=e.get("page");this.page=i?parseInt(i):void 0;const r=e.get("sizePage");this.sizePage=r?parseInt(r):void 0,this.updateFiltros()})}navigateWithFiltros(){this.empresa=this.rutaEmpresaService.getEmpresa();const e={...void 0!==this.input&&{input:this.input},...void 0!==this.orden&&{orden:this.orden},...void 0!==this.page&&{page:this.page},...void 0!==this.sizePage&&{sizePage:this.sizePage}};e?this.router.navigate(["./",this.empresa,"promociones"],{queryParams:e}):this.router.navigate(["./",this.empresa,"promociones"])}ngOnDestroy(){this.input=void 0,this.orden=void 0,this.page=void 0,this.sizePage=void 0,this.updateFiltros(),this.params.unsubscribe()}static#o=this.\u0275fac=function(n){return new(n||t)(o.LFG(l.gz),o.LFG(m.e),o.LFG(l.F0))};static#e=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var G=s(1289),X=s(2174),R=s(4831);let H=(()=>{class t{constructor(e,n,i){this.router=e,this.rutaEmpresaService=n,this.filtrosPromocionesService=i}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa()}searchPromocion(e){this.filtrosPromocionesService.input=e||void 0,this.filtrosPromocionesService.page=void 0,this.filtrosPromocionesService.updateFiltros(),this.filtrosPromocionesService.navigateWithFiltros()}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(l.F0),o.Y36(m.e),o.Y36(u))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promociones-layout"]],decls:6,vars:0,consts:[[1,"flex","items-center","justify-end","gap-5","mb-5"],[1,"flex-1",3,"onSearch"]],template:function(n,i){1&n&&(o.TgZ(0,"div")(1,"div",0)(2,"shared-buscador",1),o.NdJ("onSearch",function(p){return i.searchPromocion(p)}),o.qZA(),o._UZ(3,"shared-carrito")(4,"shared-auth-button"),o.qZA(),o._UZ(5,"router-outlet"),o.qZA())},dependencies:[l.lC,G.a,X.n,R.o]})}return t})();var W=s(9649);const K=function(t){return{active:t}};function V(t,c){if(1&t){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){const r=o.CHM(e).$implicit,p=o.oxw();return o.KtG(p.changePage(r))}),o._uU(1),o.qZA()}if(2&t){const e=c.$implicit,n=o.oxw();o.Q6J("ngClass",o.VKq(2,K,e===n.page)),o.xp6(1),o.hij(" ",e," ")}}let oo=(()=>{class t{get page(){return this.filtrosPromocionesService.page||1}constructor(e,n){this.rutaEmpresaService=e,this.filtrosPromocionesService=n}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa(),this.paginas=Array.from({length:this.cantPaginas},(e,n)=>n+1)}changePage(e){this.filtrosPromocionesService.page=e,this.filtrosPromocionesService.updateFiltros(),this.filtrosPromocionesService.navigateWithFiltros()}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(m.e),o.Y36(u))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promocion-paginacion"]],inputs:{cantPaginas:"cantPaginas"},decls:2,vars:2,consts:[[1,"flex","justify-center","gap-3","mt-5",3,"ngClass"],["class","number-page w-[30px] h-[30px] flex justify-center items-center lienzo2 cursor-pointer rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"number-page","w-[30px]","h-[30px]","flex","justify-center","items-center","lienzo2","cursor-pointer","rounded-full",3,"ngClass","click"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0),o.YNc(1,V,2,4,"div",1),o.qZA()),2&n&&(o.Q6J("ngClass",i.empresa),o.xp6(1),o.Q6J("ngForOf",i.paginas))},dependencies:[a.mk,a.sg],styles:[".Ecoambiental[_ngcontent-%COMP%]   .number-page[_ngcontent-%COMP%]:hover, .Ecoambiental[_ngcontent-%COMP%]   .active.number-page[_ngcontent-%COMP%]{background:var(--eco)}.Ghamec[_ngcontent-%COMP%]   .number-page[_ngcontent-%COMP%]:hover, .Ghamec[_ngcontent-%COMP%]   .active.number-page[_ngcontent-%COMP%]{background:var(--ghamec)}.Acm[_ngcontent-%COMP%]   .number-page[_ngcontent-%COMP%]:hover, .Acm[_ngcontent-%COMP%]   .active.number-page[_ngcontent-%COMP%]{background:var(--acm)}"]})}return t})();var eo=s(387);let to=(()=>{class t{get orden(){return this.filtrosPromocionesService.orden}constructor(e,n){this.rutaEmpresaService=e,this.filtrosPromocionesService=n,this.ordenOpciones=[{value:1,name:"Nombre: A - Z"},{value:2,name:"Nombre: Z - A"},{value:3,name:"Fecha: M\xe1s nuevo"},{value:4,name:"Fecha: M\xe1s Antiguo"},{value:5,name:"Precio: Menor Precio"},{value:6,name:"Precio: Mayor Precio"}]}ngOnInit(){this.empresa=this.rutaEmpresaService.getEmpresa()}catchFiltro(e,n){"orden"===n&&(this.filtrosPromocionesService.orden=e||void 0),this.filtrosPromocionesService.page=void 0,this.filtrosPromocionesService.updateFiltros(),this.filtrosPromocionesService.navigateWithFiltros()}resetFiltros(){this.filtrosPromocionesService.input=void 0,this.filtrosPromocionesService.orden=void 0,this.filtrosPromocionesService.updateFiltros(),this.filtrosPromocionesService.navigateWithFiltros()}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(m.e),o.Y36(u))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promociones-filtros"]],decls:4,vars:3,consts:[[1,"mb-5","flex","items-center","gap-5"],["placeHolder","Ordenar",3,"opciones","selected","emitSelect"],[1,"cursor-pointer",3,"ngClass","click"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0)(1,"shared-filtros",1),o.NdJ("emitSelect",function(p){return i.catchFiltro(p,"orden")}),o.qZA(),o.TgZ(2,"div",2),o.NdJ("click",function(){return i.resetFiltros()}),o._uU(3," Reiniciar "),o.qZA()()),2&n&&(o.xp6(1),o.Q6J("opciones",i.ordenOpciones)("selected",i.orden),o.xp6(1),o.Q6J("ngClass","txt-"+i.empresa))},dependencies:[a.mk,eo.b]})}return t})();function no(t,c){if(1&t&&o._UZ(0,"promocion-paginacion",4),2&t){const e=o.oxw(2);o.Q6J("cantPaginas",e.paginas)}}function io(t,c){if(1&t&&(o.TgZ(0,"shared-sin-resultados",5),o._uU(1," promociones "),o.qZA()),2&t){const e=o.oxw(2);o.Q6J("busqueda",e.busqueda)}}function ro(t,c){if(1&t&&(o.ynx(0),o._UZ(1,"promociones-list",1),o.YNc(2,no,1,1,"promocion-paginacion",2),o.YNc(3,io,2,1,"shared-sin-resultados",3),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("promociones",e.promociones),o.xp6(1),o.Q6J("ngIf",e.paginas>1),o.xp6(1),o.Q6J("ngIf",0===(null==e.promociones?null:e.promociones.length))}}function so(t,c){1&t&&o._UZ(0,"shared-loader")}const co=[{path:"",component:H,children:[{path:"",component:(()=>{class t{constructor(e,n,i){this.promocionesService=e,this.filtrosPromocionesService=n,this.ruta=i,this.filtros=new g.w0,this.loading=!0}ngOnInit(){this.empresa=this.ruta.getEmpresa(),this.getFiltros()}ngOnDestroy(){this.filtrosPromocionesService.ngOnDestroy(),this.filtros.unsubscribe()}getFiltros(){this.filtros=this.filtrosPromocionesService.filtrosPromocion.subscribe(e=>{this.loading=!0,this.getPromociones(e)})}getPromociones(e){this.promocionesService.getPromociones(this.empresa,e).subscribe(n=>{n&&(this.paginas=Math.ceil(n.contadorPaquetes/10),this.promociones=n.paquetes),setTimeout(()=>this.loading=!1,1e3)})}static#o=this.\u0275fac=function(n){return new(n||t)(o.Y36(P),o.Y36(u),o.Y36(m.e))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["promociones-list-page"]],decls:3,vars:2,consts:[[4,"ngIf"],[3,"promociones"],[3,"cantPaginas",4,"ngIf"],[3,"busqueda",4,"ngIf"],[3,"cantPaginas"],[3,"busqueda"]],template:function(n,i){1&n&&(o._UZ(0,"promociones-filtros"),o.YNc(1,ro,4,3,"ng-container",0),o.YNc(2,so,1,0,"shared-loader",0)),2&n&&(o.xp6(1),o.Q6J("ngIf",!i.loading),o.xp6(1),o.Q6J("ngIf",i.loading))},dependencies:[a.O5,W.Y,_.R,Z,oo,to]})}return t})()},{path:":id",component:D}]}];let ao=(()=>{class t{static#o=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275mod=o.oAB({type:t});static#t=this.\u0275inj=o.cJS({imports:[l.Bz.forChild(co),l.Bz]})}return t})();var po=s(6208),lo=s(3808);let mo=(()=>{class t{static#o=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275mod=o.oAB({type:t});static#t=this.\u0275inj=o.cJS({imports:[a.ez,ao,po.m,lo.$]})}return t})()}}]);